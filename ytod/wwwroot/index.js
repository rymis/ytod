(()=>{var wr=Object.create;var tt=Object.defineProperty;var xr=Object.getOwnPropertyDescriptor;var vr=Object.getOwnPropertyNames;var qr=Object.getPrototypeOf,kr=Object.prototype.hasOwnProperty;var T=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var Ar=(i,a,l,f)=>{if(a&&typeof a=="object"||typeof a=="function")for(let h of vr(a))!kr.call(i,h)&&h!==l&&tt(i,h,{get:()=>a[h],enumerable:!(f=xr(a,h))||f.enumerable});return i};var Z=(i,a,l)=>(l=i!=null?wr(qr(i)):{},Ar(a||!i||!i.__esModule?tt(l,"default",{value:i,enumerable:!0}):l,i));var V=T((ui,rt)=>{"use strict";function X(i,a,l,f,h,c){return{tag:i,key:a,attrs:l,children:f,text:h,dom:c,domSize:void 0,state:void 0,events:void 0,instance:void 0}}X.normalize=function(i){return Array.isArray(i)?X("[",void 0,void 0,X.normalizeChildren(i),void 0,void 0):i==null||typeof i=="boolean"?null:typeof i=="object"?i:X("#",void 0,void 0,String(i),void 0,void 0)};X.normalizeChildren=function(i){var a=[];if(i.length){for(var l=i[0]!=null&&i[0].key!=null,f=1;f<i.length;f++)if((i[f]!=null&&i[f].key!=null)!==l)throw new TypeError(l&&(i[f]!=null||typeof i[f]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var f=0;f<i.length;f++)a[f]=X.normalize(i[f])}return a};rt.exports=X});var Pe=T((li,it)=>{"use strict";var Cr=V();it.exports=function(){var i=arguments[this],a=this+1,l;if(i==null?i={}:(typeof i!="object"||i.tag!=null||Array.isArray(i))&&(i={},a=this),arguments.length===a+1)l=arguments[a],Array.isArray(l)||(l=[l]);else for(l=[];a<arguments.length;)l.push(arguments[a++]);return Cr("",i.key,i,l)}});var be=T((fi,nt)=>{"use strict";nt.exports={}.hasOwnProperty});var Le=T((si,ut)=>{"use strict";var Er=V(),Nr=Pe(),_e=be(),Or=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,at=Object.create(null);function zr(i){for(var a in i)if(_e.call(i,a))return!1;return!0}function Tr(i){for(var a,l="div",f=[],h={};a=Or.exec(i);){var c=a[1],o=a[2];if(c===""&&o!=="")l=o;else if(c==="#")h.id=o;else if(c===".")f.push(o);else if(a[3][0]==="["){var p=a[6];p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),a[4]==="class"?f.push(p):h[a[4]]=p===""?p:p||!0}}return f.length>0&&(h.className=f.join(" ")),zr(h)&&(h=null),at[i]={tag:l,attrs:h}}function Rr(i,a){var l=a.attrs,f=_e.call(l,"class"),h=f?l.class:l.className;return a.tag=i.tag,i.attrs!=null?(l=Object.assign({},i.attrs,l),(h!=null||i.attrs.className!=null)&&(l.className=h!=null?i.attrs.className!=null?String(i.attrs.className)+" "+String(h):h:i.attrs.className!=null?i.attrs.className:null)):h!=null&&(l.className=h),f&&(l.class=null),i.tag==="input"&&_e.call(l,"type")&&(l=Object.assign({type:l.type},l)),a.attrs=l,a}function Ir(i){if(i==null||typeof i!="string"&&typeof i!="function"&&typeof i.view!="function")throw Error("The selector must be either a string or a component.");var a=Nr.apply(1,arguments);return typeof i=="string"&&(a.children=Er.normalizeChildren(a.children),i!=="[")?Rr(at[i]||Tr(i),a):(a.tag=i,a)}ut.exports=Ir});var ft=T((oi,lt)=>{"use strict";var Sr=V();lt.exports=function(i){return i==null&&(i=""),Sr("<",void 0,void 0,i,void 0,void 0)}});var ot=T((ci,st)=>{"use strict";var jr=V(),Fr=Pe();st.exports=function(){var i=Fr.apply(0,arguments);return i.tag="[",i.children=jr.normalizeChildren(i.children),i}});var mt=T((mi,ct)=>{"use strict";var De=Le();De.trust=ft();De.fragment=ot();ct.exports=De});var Ue=T((hi,pt)=>{"use strict";var ht=new WeakMap;function*Mr(i,a={}){var l=i.dom,f=i.domSize,h=a.generation;if(l!=null)do{var c=l.nextSibling;ht.get(l)===h&&(yield l,f--),l=c}while(f)}pt.exports={delayedRemoval:ht,domFor:Mr}});var bt=T((pi,yt)=>{"use strict";var He=V(),gt=Ue(),dt=gt.delayedRemoval,Be=gt.domFor;yt.exports=function(){var i={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},a,l;function f(r){return r.ownerDocument}function h(r){return r.attrs&&r.attrs.xmlns||i[r.tag]}function c(r,e){if(r.state!==e)throw new Error("'vnode.state' must not be modified.")}function o(r){var e=r.state;try{return this.apply(e,arguments)}finally{c(r,e)}}function p(r){try{return f(r).activeElement}catch{return null}}function x(r,e,n,u,s,m,w){for(var A=n;A<u;A++){var d=e[A];d!=null&&v(r,d,s,w,m)}}function v(r,e,n,u,s){var m=e.tag;if(typeof m=="string")switch(e.state={},e.attrs!=null&&ze(e.attrs,e,n),m){case"#":q(r,e,s);break;case"<":_(r,e,u,s);break;case"[":y(r,e,n,u,s);break;default:M(r,e,n,u,s)}else $(r,e,n,u,s)}function q(r,e,n){e.dom=f(r).createTextNode(e.children),Q(r,e.dom,n)}var C={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function _(r,e,n,u){var s=e.children.match(/^\s*?<(\w+)/im)||[],m=f(r).createElement(C[s[1]]||"div");n==="http://www.w3.org/2000/svg"?(m.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",m=m.firstChild):m.innerHTML=e.children,e.dom=m.firstChild,e.domSize=m.childNodes.length;for(var w=f(r).createDocumentFragment(),A;A=m.firstChild;)w.appendChild(A);Q(r,w,u)}function y(r,e,n,u,s){var m=f(r).createDocumentFragment();if(e.children!=null){var w=e.children;x(m,w,0,w.length,n,null,u)}e.dom=m.firstChild,e.domSize=m.childNodes.length,Q(r,m,s)}function M(r,e,n,u,s){var m=e.tag,w=e.attrs,A=w&&w.is;u=h(e)||u;var d=u?A?f(r).createElementNS(u,m,{is:A}):f(r).createElementNS(u,m):A?f(r).createElement(m,{is:A}):f(r).createElement(m);if(e.dom=d,w!=null&&mr(e,w,u),Q(r,d,s),!J(e)&&e.children!=null){var N=e.children;x(d,N,0,N.length,n,null,u),e.tag==="select"&&w!=null&&pr(e,w)}}function K(r,e){var n;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),n=r.state.view,n.$$reentrantLock$$!=null)return;n.$$reentrantLock$$=!0}else{if(r.state=void 0,n=r.tag,n.$$reentrantLock$$!=null)return;n.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(ze(r.state,r,e),r.attrs!=null&&ze(r.attrs,r,e),r.instance=He.normalize(o.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function $(r,e,n,u,s){K(e,n),e.instance!=null?(v(r,e.instance,n,u,s),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function G(r,e,n,u,s,m){if(!(e===n||e==null&&n==null))if(e==null||e.length===0)x(r,n,0,n.length,u,s,m);else if(n==null||n.length===0)se(r,e,0,e.length);else{var w=e[0]!=null&&e[0].key!=null,A=n[0]!=null&&n[0].key!=null,d=0,N=0;if(!w)for(;N<e.length&&e[N]==null;)N++;if(!A)for(;d<n.length&&n[d]==null;)d++;if(w!==A)se(r,e,N,e.length),x(r,n,d,n.length,u,s,m);else if(A){for(var U=e.length-1,P=n.length-1,ye,H,S,D,z,Ie;U>=N&&P>=d&&(D=e[U],z=n[P],D.key===z.key);)D!==z&&B(r,D,z,u,s,m),z.dom!=null&&(s=z.dom),U--,P--;for(;U>=N&&P>=d&&(H=e[N],S=n[d],H.key===S.key);)N++,d++,H!==S&&B(r,H,S,u,Y(e,N,s),m);for(;U>=N&&P>=d&&!(d===P||H.key!==z.key||D.key!==S.key);)Ie=Y(e,N,s),fe(r,D,Ie),D!==S&&B(r,D,S,u,Ie,m),++d<=--P&&fe(r,H,s),H!==z&&B(r,H,z,u,s,m),z.dom!=null&&(s=z.dom),N++,U--,D=e[U],z=n[P],H=e[N],S=n[d];for(;U>=N&&P>=d&&D.key===z.key;)D!==z&&B(r,D,z,u,s,m),z.dom!=null&&(s=z.dom),U--,P--,D=e[U],z=n[P];if(d>P)se(r,e,N,U+1);else if(N>U)x(r,n,d,P+1,u,s,m);else{var br=s,et=P-d+1,me=new Array(et),Se=0,I=0,je=2147483647,Fe=0,ye,Me;for(I=0;I<et;I++)me[I]=-1;for(I=P;I>=d;I--){ye==null&&(ye=O(e,N,U+1)),z=n[I];var re=ye[z.key];re!=null&&(je=re<je?re:-1,me[I-d]=re,D=e[re],e[re]=null,D!==z&&B(r,D,z,u,s,m),z.dom!=null&&(s=z.dom),Fe++)}if(s=br,Fe!==U-N+1&&se(r,e,N,U+1),Fe===0)x(r,n,d,P+1,u,s,m);else if(je===-1)for(Me=F(me),Se=Me.length-1,I=P;I>=d;I--)S=n[I],me[I-d]===-1?v(r,S,u,m,s):Me[Se]===I-d?Se--:fe(r,S,s),S.dom!=null&&(s=n[I].dom);else for(I=P;I>=d;I--)S=n[I],me[I-d]===-1&&v(r,S,u,m,s),S.dom!=null&&(s=n[I].dom)}}else{var Re=e.length<n.length?e.length:n.length;for(d=d<N?d:N;d<Re;d++)H=e[d],S=n[d],!(H===S||H==null&&S==null)&&(H==null?v(r,S,u,m,Y(e,d+1,s)):S==null?de(r,H):B(r,H,S,u,Y(e,d+1,s),m));e.length>Re&&se(r,e,d,e.length),n.length>Re&&x(r,n,d,n.length,u,s,m)}}}function B(r,e,n,u,s,m){var w=e.tag,A=n.tag;if(w===A){if(n.state=e.state,n.events=e.events,yr(n,e))return;if(typeof w=="string")switch(n.attrs!=null&&Te(n.attrs,n,u),w){case"#":R(e,n);break;case"<":g(r,e,n,m,s);break;case"[":E(r,e,n,u,s,m);break;default:b(e,n,u,m)}else j(r,e,n,u,s,m)}else de(r,e),v(r,n,u,m,s)}function R(r,e){r.children.toString()!==e.children.toString()&&(r.dom.nodeValue=e.children),e.dom=r.dom}function g(r,e,n,u,s){e.children!==n.children?(ge(r,e,void 0),_(r,n,u,s)):(n.dom=e.dom,n.domSize=e.domSize)}function E(r,e,n,u,s,m){G(r,e.children,n.children,u,s,m);var w=0,A=n.children;if(n.dom=null,A!=null){for(var d=0;d<A.length;d++){var N=A[d];N!=null&&N.dom!=null&&(n.dom==null&&(n.dom=N.dom),w+=N.domSize||1)}w!==1&&(n.domSize=w)}}function b(r,e,n,u){var s=e.dom=r.dom;u=h(e)||u,dr(e,r.attrs,e.attrs,u),J(e)||G(s,r.children,e.children,n,null,u)}function j(r,e,n,u,s,m){if(n.instance=He.normalize(o.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");Te(n.state,n,u),n.attrs!=null&&Te(n.attrs,n,u),n.instance!=null?(e.instance==null?v(r,n.instance,u,m,s):B(r,e.instance,n.instance,u,s,m),n.dom=n.instance.dom,n.domSize=n.instance.domSize):e.instance!=null?(de(r,e.instance),n.dom=void 0,n.domSize=0):(n.dom=e.dom,n.domSize=e.domSize)}function O(r,e,n){for(var u=Object.create(null);e<n;e++){var s=r[e];if(s!=null){var m=s.key;m!=null&&(u[m]=e)}}return u}var k=[];function F(r){for(var e=[0],n=0,u=0,s=0,m=k.length=r.length,s=0;s<m;s++)k[s]=r[s];for(var s=0;s<m;++s)if(r[s]!==-1){var w=e[e.length-1];if(r[w]<r[s]){k[s]=w,e.push(s);continue}for(n=0,u=e.length-1;n<u;){var A=(n>>>1)+(u>>>1)+(n&u&1);r[e[A]]<r[s]?n=A+1:u=A}r[s]<r[e[n]]&&(n>0&&(k[s]=e[n-1]),e[n]=s)}for(n=e.length,u=e[n-1];n-- >0;)e[n]=u,u=k[u];return k.length=0,e}function Y(r,e,n){for(;e<r.length;e++)if(r[e]!=null&&r[e].dom!=null)return r[e].dom;return n}function fe(r,e,n){if(e.dom!=null){var u;if(e.domSize==null)u=e.dom;else{u=f(r).createDocumentFragment();for(var s of Be(e))u.appendChild(s)}Q(r,u,n)}}function Q(r,e,n){n!=null?r.insertBefore(e,n):r.appendChild(e)}function J(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var e=r.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var n=e[0].children;r.dom.innerHTML!==n&&(r.dom.innerHTML=n)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function se(r,e,n,u){for(var s=n;s<u;s++){var m=e[s];m!=null&&de(r,m)}}function de(r,e){var n=0,u=e.state,s,m;if(typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"){var w=o.call(e.state.onbeforeremove,e);w!=null&&typeof w.then=="function"&&(n=1,s=w)}if(e.attrs&&typeof e.attrs.onbeforeremove=="function"){var w=o.call(e.attrs.onbeforeremove,e);w!=null&&typeof w.then=="function"&&(n|=2,m=w)}c(e,u);var A;if(!n)oe(e),ge(r,e,A);else{A=l;for(var d of Be(e))dt.set(d,A);s?.finally(function(){n&1&&(n&=2,n||(c(e,u),oe(e),ge(r,e,A)))}),m?.finally(function(){n&2&&(n&=1,n||(c(e,u),oe(e),ge(r,e,A)))})}}function ge(r,e,n){if(e.dom!=null)if(e.domSize==null)dt.get(e.dom)===n&&r.removeChild(e.dom);else for(var u of Be(e,{generation:n}))r.removeChild(u)}function oe(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&o.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&o.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&oe(r.instance);else{var e=r.children;if(Array.isArray(e))for(var n=0;n<e.length;n++){var u=e[n];u!=null&&oe(u)}}}function mr(r,e,n){for(var u in e)Ne(r,u,null,e[u],n)}function Ne(r,e,n,u,s){if(!(e==="key"||e==="is"||u==null||Je(e)||n===u&&!gr(r,e)&&typeof u!="object")){if(e[0]==="o"&&e[1]==="n")return Xe(r,e,u);if(e.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),u);else if(e==="style")Ye(r.dom,n,u);else if(Ze(r,e,s)){if(e==="value"){var m=r.tag==="input"&&r.attrs.type==="file";if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+u&&(m||r.dom===p(r.dom))||r.tag==="select"&&n!==null&&r.dom.value===""+u||r.tag==="option"&&n!==null&&r.dom.value===""+u)return;if(m&&""+u!=""){console.error("`value` is read-only on file inputs!");return}}r.tag==="input"&&e==="type"?r.dom.setAttribute(e,u):r.dom[e]=u}else typeof u=="boolean"?u?r.dom.setAttribute(e,""):r.dom.removeAttribute(e):r.dom.setAttribute(e==="className"?"class":e,u)}}function hr(r,e,n,u){if(!(e==="key"||e==="is"||n==null||Je(e)))if(e[0]==="o"&&e[1]==="n")Xe(r,e,void 0);else if(e==="style")Ye(r.dom,n,null);else if(Ze(r,e,u)&&e!=="className"&&e!=="title"&&!(e==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===p(r.dom)))&&!(r.tag==="input"&&e==="type"))r.dom[e]=null;else{var s=e.indexOf(":");s!==-1&&(e=e.slice(s+1)),n!==!1&&r.dom.removeAttribute(e==="className"?"class":e)}}function pr(r,e){if("value"in e)if(e.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var n=""+e.value;(r.dom.value!==n||r.dom.selectedIndex===-1)&&(r.dom.value=n)}"selectedIndex"in e&&Ne(r,"selectedIndex",null,e.selectedIndex,void 0)}function dr(r,e,n,u){if(e&&e===n&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),n!=null)for(var s in n)Ne(r,s,e&&e[s],n[s],u);var m;if(e!=null)for(var s in e)(m=e[s])!=null&&(n==null||n[s]==null)&&hr(r,s,m,u)}function gr(r,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&r.dom===p(r.dom)||r.tag==="option"&&r.dom.parentNode===p(r.dom)}function Je(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function Ze(r,e,n){return n===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in r.dom}function Ye(r,e,n){if(e!==n)if(n==null)r.style="";else if(typeof n!="object")r.style=n;else if(e==null||typeof e!="object"){r.style.cssText="";for(var u in n){var s=n[u];s!=null&&(u.includes("-")?r.style.setProperty(u,String(s)):r.style[u]=String(s))}}else{for(var u in n){var s=n[u];s!=null&&(s=String(s))!==String(e[u])&&(u.includes("-")?r.style.setProperty(u,s):r.style[u]=s)}for(var u in e)e[u]!=null&&n[u]==null&&(u.includes("-")?r.style.removeProperty(u):r.style[u]="")}}function Oe(){this._=a}Oe.prototype=Object.create(null),Oe.prototype.handleEvent=function(r){var e=this["on"+r.type],n;typeof e=="function"?n=e.call(r.currentTarget,r):typeof e.handleEvent=="function"&&e.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),n===!1&&(r.preventDefault(),r.stopPropagation())};function Xe(r,e,n){if(r.events!=null){if(r.events._=a,r.events[e]===n)return;n!=null&&(typeof n=="function"||typeof n=="object")?(r.events[e]==null&&r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=n):(r.events[e]!=null&&r.dom.removeEventListener(e.slice(2),r.events,!1),r.events[e]=void 0)}else n!=null&&(typeof n=="function"||typeof n=="object")&&(r.events=new Oe,r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=n)}function ze(r,e,n){typeof r.oninit=="function"&&o.call(r.oninit,e),typeof r.oncreate=="function"&&n.push(o.bind(r.oncreate,e))}function Te(r,e,n){typeof r.onupdate=="function"&&n.push(o.bind(r.onupdate,e))}function yr(r,e){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var n=o.call(r.attrs.onbeforeupdate,r,e);if(n!==void 0&&!n)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var n=o.call(r.state.onbeforeupdate,r,e);if(n!==void 0&&!n)break}return!1}while(!1);return r.dom=e.dom,r.domSize=e.domSize,r.instance=e.instance,r.attrs=e.attrs,r.children=e.children,r.text=e.text,!0}var ce;return function(r,e,n){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(ce!=null&&r.contains(ce))throw new TypeError("Node is currently being rendered to and thus is locked.");var u=a,s=ce,m=[],w=p(r),A=r.namespaceURI;ce=r,a=typeof n=="function"?n:void 0,l={};try{r.vnodes==null&&(r.textContent=""),e=He.normalizeChildren(Array.isArray(e)?e:[e]),G(r,r.vnodes,e,m,null,A==="http://www.w3.org/1999/xhtml"?void 0:A),r.vnodes=e,w!=null&&p(r)!==w&&typeof w.focus=="function"&&w.focus();for(var d=0;d<m.length;d++)m[d]()}finally{a=u,ce=s}}}});var $e=T((di,wt)=>{"use strict";wt.exports=bt()(typeof window<"u"?window:null)});var qt=T((gi,vt)=>{"use strict";var xt=V();vt.exports=function(i,a,l){var f=[],h=!1,c=-1;function o(){for(c=0;c<f.length;c+=2)try{i(f[c],xt(f[c+1]),p)}catch(v){l.error(v)}c=-1}function p(){h||(h=!0,a(function(){h=!1,o()}))}p.sync=o;function x(v,q){if(q!=null&&q.view==null&&typeof q!="function")throw new TypeError("m.mount expects a component, not a vnode.");var C=f.indexOf(v);C>=0&&(f.splice(C,2),C<=c&&(c-=2),i(v,[])),q!=null&&(f.push(v,q),i(v,xt(q),p))}return{mount:x,redraw:p}}});var we=T((yi,kt)=>{"use strict";var Pr=$e();kt.exports=qt()(Pr,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null)});var Ge=T((bi,At)=>{"use strict";At.exports=function(i){if(Object.prototype.toString.call(i)!=="[object Object]")return"";var a=[];for(var l in i)f(l,i[l]);return a.join("&");function f(h,c){if(Array.isArray(c))for(var o=0;o<c.length;o++)f(h+"["+o+"]",c[o]);else if(Object.prototype.toString.call(c)==="[object Object]")for(var o in c)f(h+"["+o+"]",c[o]);else a.push(encodeURIComponent(h)+(c!=null&&c!==""?"="+encodeURIComponent(c):""))}}});var xe=T((wi,Ct)=>{"use strict";var _r=Ge();Ct.exports=function(i,a){if(/:([^\/\.-]+)(\.{3})?:/.test(i))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(a==null)return i;var l=i.indexOf("?"),f=i.indexOf("#"),h=f<0?i.length:f,c=l<0?h:l,o=i.slice(0,c),p={};Object.assign(p,a);var x=o.replace(/:([^\/\.-]+)(\.{3})?/g,function(K,$,G){return delete p[$],a[$]==null?K:G?a[$]:encodeURIComponent(String(a[$]))}),v=x.indexOf("?"),q=x.indexOf("#"),C=q<0?x.length:q,_=v<0?C:v,y=x.slice(0,_);l>=0&&(y+=i.slice(l,h)),v>=0&&(y+=(l<0?"?":"&")+x.slice(v,C));var M=_r(p);return M&&(y+=(l<0&&v<0?"?":"&")+M),f>=0&&(y+=i.slice(f)),q>=0&&(y+=(f<0?"":"&")+x.slice(q)),y}});var Ot=T((xi,Nt)=>{"use strict";var Lr=xe(),Et=be();Nt.exports=function(i,a){function l(c){return new Promise(c)}function f(c,o){return new Promise(function(p,x){c=Lr(c,o.params);var v=o.method!=null?o.method.toUpperCase():"GET",q=o.body,C=(o.serialize==null||o.serialize===JSON.serialize)&&!(q instanceof i.FormData||q instanceof i.URLSearchParams),_=o.responseType||(typeof o.extract=="function"?"":"json"),y=new i.XMLHttpRequest,M=!1,K=!1,$=y,G,B=y.abort;y.abort=function(){M=!0,B.call(this)},y.open(v,c,o.async!==!1,typeof o.user=="string"?o.user:void 0,typeof o.password=="string"?o.password:void 0),C&&q!=null&&!h(o,"content-type")&&y.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof o.deserialize!="function"&&!h(o,"accept")&&y.setRequestHeader("Accept","application/json, text/*"),o.withCredentials&&(y.withCredentials=o.withCredentials),o.timeout&&(y.timeout=o.timeout),y.responseType=_;for(var R in o.headers)Et.call(o.headers,R)&&y.setRequestHeader(R,o.headers[R]);y.onreadystatechange=function(g){if(!M&&g.target.readyState===4)try{var E=g.target.status>=200&&g.target.status<300||g.target.status===304||/^file:\/\//i.test(c),b=g.target.response,j;if(_==="json"){if(!g.target.responseType&&typeof o.extract!="function")try{b=JSON.parse(g.target.responseText)}catch{b=null}}else(!_||_==="text")&&b==null&&(b=g.target.responseText);if(typeof o.extract=="function"?(b=o.extract(g.target,o),E=!0):typeof o.deserialize=="function"&&(b=o.deserialize(b)),E){if(typeof o.type=="function")if(Array.isArray(b))for(var O=0;O<b.length;O++)b[O]=new o.type(b[O]);else b=new o.type(b);p(b)}else{var k=function(){try{j=g.target.responseText}catch{j=b}var F=new Error(j);F.code=g.target.status,F.response=b,x(F)};y.status===0?setTimeout(function(){K||k()}):k()}}catch(F){x(F)}},y.ontimeout=function(g){K=!0;var E=new Error("Request timed out");E.code=g.target.status,x(E)},typeof o.config=="function"&&(y=o.config(y,o,c)||y,y!==$&&(G=y.abort,y.abort=function(){M=!0,G.call(this)})),q==null?y.send():typeof o.serialize=="function"?y.send(o.serialize(q)):q instanceof i.FormData||q instanceof i.URLSearchParams?y.send(q):y.send(JSON.stringify(q))})}l.prototype=Promise.prototype,l.__proto__=Promise;function h(c,o){for(var p in c.headers)if(Et.call(c.headers,p)&&p.toLowerCase()===o)return!0;return!1}return{request:function(c,o){typeof c!="string"?(o=c,c=c.url):o==null&&(o={});var p=f(c,o);if(o.background===!0)return p;var x=0;function v(){--x===0&&typeof a=="function"&&a()}return q(p);function q(C){var _=C.then;return C.constructor=l,C.then=function(){x++;var y=_.apply(C,arguments);return y.then(v,function(M){if(v(),x===0)throw M}),q(y)},C}}}}});var Tt=T((vi,zt)=>{"use strict";var Dr=we();zt.exports=Ot()(typeof window<"u"?window:null,Dr.redraw)});var Qe=T((qi,It)=>{"use strict";function Rt(i){try{return decodeURIComponent(i)}catch{return i}}It.exports=function(i){if(i===""||i==null)return{};i.charAt(0)==="?"&&(i=i.slice(1));for(var a=i.split("&"),l={},f={},h=0;h<a.length;h++){var c=a[h].split("="),o=Rt(c[0]),p=c.length===2?Rt(c[1]):"";p==="true"?p=!0:p==="false"&&(p=!1);var x=o.split(/\]\[?|\[/),v=f;o.indexOf("[")>-1&&x.pop();for(var q=0;q<x.length;q++){var C=x[q],_=x[q+1],y=_==""||!isNaN(parseInt(_,10));if(C===""){var o=x.slice(0,q).join();l[o]==null&&(l[o]=Array.isArray(v)?v.length:0),C=l[o]++}else if(C==="__proto__")break;if(q===x.length-1)v[C]=p;else{var M=Object.getOwnPropertyDescriptor(v,C);M!=null&&(M=M.value),M==null&&(v[C]=M=y?[]:{}),v=M}}}return f}});var ve=T((ki,St)=>{"use strict";var Ur=Qe();St.exports=function(i){var a=i.indexOf("?"),l=i.indexOf("#"),f=l<0?i.length:l,h=a<0?f:a,c=i.slice(0,h).replace(/\/{2,}/g,"/");return c?c[0]!=="/"&&(c="/"+c):c="/",{path:c,params:a<0?{}:Ur(i.slice(a+1,f))}}});var Ft=T((Ai,jt)=>{"use strict";var Hr=ve();jt.exports=function(i){var a=Hr(i),l=Object.keys(a.params),f=[],h=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(c,o,p){return o==null?"\\"+c:(f.push({k:o,r:p==="..."}),p==="..."?"(.*)":p==="."?"([^/]+)\\.":"([^/]+)"+(p||""))})+"$");return function(c){for(var o=0;o<l.length;o++)if(a.params[l[o]]!==c.params[l[o]])return!1;if(!f.length)return h.test(c.path);var p=h.exec(c.path);if(p==null)return!1;for(var o=0;o<f.length;o++)c.params[f[o].k]=f[o].r?p[o+1]:decodeURIComponent(p[o+1]);return!0}}});var Ve=T((Ci,_t)=>{"use strict";var Mt=be(),Pt=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");_t.exports=function(i,a){var l={};if(a!=null)for(var f in i)Mt.call(i,f)&&!Pt.test(f)&&a.indexOf(f)<0&&(l[f]=i[f]);else for(var f in i)Mt.call(i,f)&&!Pt.test(f)&&(l[f]=i[f]);return l}});var Ht=T((Ei,Ut)=>{"use strict";var Br=V(),$r=Le(),Lt=xe(),Dt=ve(),Gr=Ft(),Qr=Ve(),We={};function Vr(i){try{return decodeURIComponent(i)}catch{return i}}Ut.exports=function(i,a){var l=i==null?null:typeof i.setImmediate=="function"?i.setImmediate:i.setTimeout,f=Promise.resolve(),h=!1,c=!1,o=0,p,x,v=We,q,C,_,y,M={onbeforeupdate:function(){return o=o?2:1,!(!o||We===v)},onremove:function(){i.removeEventListener("popstate",G,!1),i.removeEventListener("hashchange",$,!1)},view:function(){if(!(!o||We===v)){var g=[Br(q,C.key,C)];return v&&(g=v.render(g[0])),g}}},K=R.SKIP={};function $(){h=!1;var g=i.location.hash;R.prefix[0]!=="#"&&(g=i.location.search+g,R.prefix[0]!=="?"&&(g=i.location.pathname+g,g[0]!=="/"&&(g="/"+g)));var E=g.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,Vr).slice(R.prefix.length),b=Dt(E);Object.assign(b.params,i.history.state);function j(k){console.error(k),B(x,null,{replace:!0})}O(0);function O(k){for(;k<p.length;k++)if(p[k].check(b)){var F=p[k].component,Y=p[k].route,fe=F,Q=y=function(J){if(Q===y){if(J===K)return O(k+1);q=J!=null&&(typeof J.view=="function"||typeof J=="function")?J:"div",C=b.params,_=E,y=null,v=F.render?F:null,o===2?a.redraw():(o=2,a.redraw.sync())}};F.view||typeof F=="function"?(F={},Q(fe)):F.onmatch?f.then(function(){return F.onmatch(b.params,E,Y)}).then(Q,E===x?null:j):Q("div");return}if(E===x)throw new Error("Could not resolve default route "+x+".");B(x,null,{replace:!0})}}function G(){h||(h=!0,l($))}function B(g,E,b){if(g=Lt(g,E),c){G();var j=b?b.state:null,O=b?b.title:null;b&&b.replace?i.history.replaceState(j,O,R.prefix+g):i.history.pushState(j,O,R.prefix+g)}else i.location.href=R.prefix+g}function R(g,E,b){if(!g)throw new TypeError("DOM element being rendered to does not exist.");if(p=Object.keys(b).map(function(O){if(O[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(O))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:O,component:b[O],check:Gr(O)}}),x=E,E!=null){var j=Dt(E);if(!p.some(function(O){return O.check(j)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof i.history.pushState=="function"?i.addEventListener("popstate",G,!1):R.prefix[0]==="#"&&i.addEventListener("hashchange",$,!1),c=!0,a.mount(g,M),$()}return R.set=function(g,E,b){y!=null&&(b=b||{},b.replace=!0),y=null,B(g,E,b)},R.get=function(){return _},R.prefix="#!",R.Link={view:function(g){var E=$r(g.attrs.selector||"a",Qr(g.attrs,["options","params","selector","onclick"]),g.children),b,j,O;return(E.attrs.disabled=!!E.attrs.disabled)?(E.attrs.href=null,E.attrs["aria-disabled"]="true"):(b=g.attrs.options,j=g.attrs.onclick,O=Lt(E.attrs.href,g.attrs.params),E.attrs.href=R.prefix+O,E.attrs.onclick=function(k){var F;typeof j=="function"?F=j.call(k.currentTarget,k):j==null||typeof j!="object"||typeof j.handleEvent=="function"&&j.handleEvent(k),F!==!1&&!k.defaultPrevented&&(k.button===0||k.which===0||k.which===1)&&(!k.currentTarget.target||k.currentTarget.target==="_self")&&!k.ctrlKey&&!k.metaKey&&!k.shiftKey&&!k.altKey&&(k.preventDefault(),k.redraw=!1,R.set(O,null,b))}),E}},R.param=function(g){return C&&g!=null?C[g]:C},R}});var $t=T((Ni,Bt)=>{"use strict";var Wr=we();Bt.exports=Ht()(typeof window<"u"?window:null,Wr)});var W=T((Oi,Qt)=>{"use strict";var qe=mt(),Kr=Tt(),Gt=we(),Jr=Ue(),L=function(){return qe.apply(this,arguments)};L.m=qe;L.trust=qe.trust;L.fragment=qe.fragment;L.Fragment="[";L.mount=Gt.mount;L.route=$t();L.render=$e();L.redraw=Gt.redraw;L.request=Kr.request;L.parseQueryString=Qe();L.buildQueryString=Ge();L.parsePathname=ve();L.buildPathname=xe();L.vnode=V();L.censor=Ve();L.domFor=Jr.domFor;Qt.exports=L});var le=Z(W());var Vt={cs:{Search:"Hledani",Archive:"Archiv"},ru:{Feeds:"\u041F\u043E\u0434\u043F\u0438\u0441\u043A\u0438",Search:"\u041F\u043E\u0438\u0441\u043A",Archive:"\u0410\u0440\u0445\u0438\u0432"}};function Wt(i){var a,l,f="";if(typeof i=="string"||typeof i=="number")f+=i;else if(typeof i=="object")if(Array.isArray(i)){var h=i.length;for(a=0;a<h;a++)i[a]&&(l=Wt(i[a]))&&(f&&(f+=" "),f+=l)}else for(l in i)i[l]&&(f&&(f+=" "),f+=l);return f}function Zr(){for(var i,a,l=0,f="",h=arguments.length;l<h;l++)(i=arguments[l])&&(a=Wt(i))&&(f&&(f+=" "),f+=a);return f}var ie=Zr;var Kt={view:function(i){let{type:a}=i.attrs,l=ie("flex items-center p-4 mb-4 text-sm border rounded-lg",{[i.attrs.class]:i.attrs.class,"text-blue-800 border-blue-300 bg-blue-50 dark:bg-gray-800 dark:text-blue-400 dark:border-blue-800":a==="info","text-red-800 border-red-300 bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800":a==="danger","text-green-800 border-green-300 bg-green-50 dark:bg-gray-800 dark:text-green-400 dark:border-green-800":a==="success","text-yellow-800 border-yellow-300 bg-yellow-50 dark:bg-gray-800 dark:text-yellow-300 dark:border-yellow-800":a==="warning"});return mCreateElement("div",{class:l,role:"alert"},mCreateElement("svg",{class:"flex-shrink-0 inline w-4 h-4 me-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},mCreateElement("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})),mCreateElement("span",{class:"sr-only"},i.attrs.text),mCreateElement("div",null,i.attrs.alert??i.attrs.text))}};var Jt=Z(W());function Yr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var a=Math.random()*16|0,l=i=="x"?a:a&3|8;return l.toString(16)})}var he={items:[],removeNotification:function(i){let a=he.items.find(l=>l.key===i);he.items.splice(a,1)}};function Zt(i,a){let l=Yr();he.items.push({key:l,text:i,type:a})}var Yt={view:function(i){return mCreateElement("div",{class:"flex flex-col gap-2 fixed bottom-5 right-5 w-[20rem]"},he.items.map(a=>{let{key:l,text:f,type:h}=a;return mCreateElement(Xr,{key:l,text:f,type:h,timeout:i.attrs.timeout})}))}},Xr={oninit:function(i){let{key:a,timeout:l=5e3}=i.attrs;setTimeout(()=>{he.removeNotification(a),Jt.default.redraw()},l)},view:function(i){let{text:a,type:l}=i.attrs;return mCreateElement(Kt,{class:"w-full",text:a,type:l})}};var ke={view:function(i){let a=ie("text-lg group-hover:text-blue-600 dark:group-hover:text-blue-500",{"text-gray-500 dark:text-gray-400":!i.attrs.selected,"text-blue-600 dark:text-gray-500 font-bold":i.attrs.selected});return mCreateElement("a",{href:i.attrs.path,class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group"},i.attrs.icon,mCreateElement("span",{class:a},i.attrs.name))}};var Xt=Z(W()),er={view:function(){let i=Xt.default.route.get();return mCreateElement("header",{class:"w-full h-16 bg-gray-50 border-b border-gray-200 dark:bg-gray-700 dark:border-gray-600"},mCreateElement("div",{class:"grid h-full max-w-lg grid-cols-4 mx-auto font-medium"},mCreateElement(ke,{path:"#/index",name:t("Feeds"),selected:i===Ae.feed}),mCreateElement(ke,{path:"#/search",name:t("Search"),selected:i===Ae.search}),mCreateElement(ke,{path:"#/archive",name:t("Archive"),selected:i===Ae.archive})))}};var tr={view:function(i){return mCreateElement("div",null,mCreateElement(er,null),i.children,mCreateElement(Yt,null))}};var lr=Z(W());var Ee=Z(W());var rr=Z(W()),ir={user:"unknown",lang:"en",feeds:[]};function Ce(){rr.default.request({method:"GET",url:"/ytod/api/user_info"}).then(function(i){ir=i})}function nr(i){for(var a of ir.feeds)if(a===i)return!0;return!1}var pe={view:function(i){let{size:a="base",color:l="blue"}=i.attrs,f=ie({"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800":l==="green","focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900":l==="red","focus:outline-none text-white bg-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 font-medium rounded-lg me-2 mb-2 dark:focus:ring-yellow-900":l==="yellow","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800":l==="blue","px-3 py-2 text-xs":a==="xs","px-3 py-2 text-sm":a==="sm","px-5 py-2.5 text-sm":a==="base","px-5 py-3 text-base":a==="lg","px-6 py-3.5 text-base":a==="xl"});return mCreateElement("button",{type:"button",class:f,onclick:i.attrs.onClick},i.attrs.name)}};var ar={show:function(i){document.getElementById(i.attrs.modalId).showModal()},view:function(i){let{header:a,content:l,footer:f,modalId:h,open:c}=i.attrs;return mCreateElement("dialog",{id:h,tabindex:"-1",class:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},mCreateElement("div",{class:"relative p-4 w-full max-w-2xl max-h-full"},mCreateElement("div",{class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},mCreateElement("div",{class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},mCreateElement("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"},a),mCreateElement("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"default-modal"},mCreateElement("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},mCreateElement("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})),mCreateElement("span",{class:"sr-only"},"Close modal"))),mCreateElement("div",{class:"p-4 md:p-5 space-y-4"},l),f&&mCreateElement("div",{class:"flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600"},f))))}};function ei(i){return function(a){return function(){Ee.default.request({method:"POST",url:"/ytod/api/download",body:{video_id:a}}).then(l=>{Zt("Video was successfully queued","success")})}}(i.video_id)}function ti(i){return function(a){return function(){Ee.default.route.set("/watch/:videoid",{videoid:a})}}(i.watch)}function ur(i,a){return function(l,f){return function(){Ee.default.request({method:"GET",url:`/ytod/api/${f}`,params:{channel_id:l}}).then(()=>{Ce()})}}(i.channel_id,a?"subscribe":"unsubscribe")}var Ke={last_id:0,descriptionOpen:!1,view:function(i){let a=i.attrs.item;if(!a)return mCreateElement("div",{class:"invalid_item"},"Invalid use of Item");let l=a.thumbnail?mCreateElement("img",{class:"rounded-lg",src:a.thumbnail.url,width:a.thumbnail.width,height:a.thumbnail.height}):mCreateElement("span",null),f=a.watch?mCreateElement(pe,{color:"green",size:"xs",onClick:ti(a),name:"Watch"}):mCreateElement(pe,{color:"yellow",size:"xs",onClick:ei(a),name:"Download"}),h=mCreateElement("span",null),c;if(nr(a.channel_id)?c=mCreateElement(pe,{color:"red",size:"xs",onClick:ur(a,!1),name:"Unsubscribe"}):c=mCreateElement(pe,{color:"blue",size:"xs",onClick:ur(a,!0),name:"Subscribe"}),a.description){let o=Ke.last_id++;h=mCreateElement("div",{class:""},mCreateElement("input",{type:"checkbox",id:`item-collapsible-${o}`}),mCreateElement("label",{for:`item-collapsible-${o}`},"Description"),mCreateElement("div",{class:`item-collapsible-${o}-area`},mCreateElement("div",{class:"hidden"},a.description)))}return mCreateElement("div",{class:"max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"},l,mCreateElement("div",{class:"font-bold text-gray-600 pb-2"},a.title),mCreateElement("a",{class:"underline underline-offset-1 italic",href:a.link},"Watch on YouTube"),mCreateElement("br",null),mCreateElement("span",{class:"text-gray-800 font-semibold text-sm"},"Channel "),mCreateElement("span",{class:"text-gray-600 uppercase"},a.channel),mCreateElement("div",{class:"pt-3 flex gap-2"},c,f),mCreateElement(ar,{header:"Description",content:h,modalId:"description-modal",open:this.descriptionOpen}))}};var ne={view:function(i){let a=i.attrs.feed||{items:[],title:""},l=[];for(let f of a.items)l.push(mCreateElement(Ke,{item:f}));return mCreateElement("div",{class:i.attrs.class},mCreateElement("div",{class:"py-4 text-center text-gray-800 text-lg"},a.title),mCreateElement("div",{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},l))}};var ee={feeds:[],view:function(){allFeeds=[];for(let i in ee.feeds)allFeeds.push(mCreateElement(ne,{feed:ee.feeds[i]}));return mCreateElement("div",{class:"p-5"},allFeeds)},updateFeed:function(){lr.default.request({method:"GET",url:"/ytod/api/feeds"}).then(i=>{ee.feeds=i})}};var fr={view:function(i){return mCreateElement("div",{class:"p-6 flex justify-center"},mCreateElement("video",{controls:!0},mCreateElement("source",{src:`/ytod/api/video/${i.attrs.videoid}`})))}};function ri(i){let a=document.getElementById("search_button");i.code==="Enter"?(i.preventDefault(),a.click()):i.redraw=!1}var sr={view:function(i){return mCreateElement("div",{class:"flex items-center max-w-sm mx-auto"},mCreateElement("label",{for:i.attrs.id,class:"sr-only"},t("Search")),mCreateElement("div",{class:"relative w-full"},mCreateElement("input",{type:"text",id:i.attrs.id,onkeydown:ri,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search..."})),mCreateElement("button",{id:"search_button",type:"button",onclick:i.attrs.onSearch,class:"p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},mCreateElement("svg",{class:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},mCreateElement("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})),mCreateElement("span",{class:"sr-only"},"Search")))}};var or=Z(W());function ii(){let i=document.getElementById("search_query").value;ae.loading=!0,or.default.request({method:"GET",url:"/ytod/api/search",params:{q:i}}).then(function(a){ae.result=a,ae.loading=!1})}var ae={result:{title:"",items:[]},loading:!1,view:function(i){return mCreateElement("div",{class:"p-6"},mCreateElement(sr,{id:"search_query",onSearch:ii}),mCreateElement("div",null,mCreateElement("div",{class:this.loading?null:"hidden"},"Loading..."),mCreateElement("div",{class:this.loading?"hidden":null},mCreateElement(ne,{feed:ae.result}))))}};var cr=Z(W()),ue={data:{title:"Archive",items:[]},view:function(){return mCreateElement(ne,{class:"p-5",feed:ue.data})},update:function(){cr.default.request({method:"GET",url:"/ytod/api/local_videos"}).then(function(i){ue.data.items=i.result})}};window.mCreateElement=le.default;window.mFragment={view:i=>i.children};window.t=function(i){return window._ytodLang&&window._ytodLang.hasOwnProperty(i)?window._ytodLang[i]:i};var Ae={feed:"index",watch:"watch",search:"search",archive:"archive"},ni={index:()=>ee.updateFeed(),archive:()=>ue.update()};function te(i){return{view:function(a){let l=le.default.route.get();if(l!==te.lastRoute){let f=ni[l];typeof f<"u"&&f()}return te.lastRoute=l,(0,le.default)(tr,(0,le.default)(i,a.attrs))}}}te.lastRoute="index";window.onload=function(){Ce(),ue.update();let i=navigator.language||navigator.userLanguage;if(i.length>2){let a=i.substr(0,2),l=Vt[a];typeof l<"u"&&(window._ytodLang=l)}le.default.route(document.body,"/index",{"/index":te(ee),"/watch/:videoid":te(fr),"/search":te(ae),"/archive":te(ue)}),ee.updateFeed()};})();
//# sourceMappingURL=index.js.map
