(()=>{var Ar=Object.create;var rt=Object.defineProperty;var Cr=Object.getOwnPropertyDescriptor;var Er=Object.getOwnPropertyNames;var Tr=Object.getPrototypeOf,Nr=Object.prototype.hasOwnProperty;var z=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var Or=(i,a,u,s)=>{if(a&&typeof a=="object"||typeof a=="function")for(let m of Er(a))!Nr.call(i,m)&&m!==u&&rt(i,m,{get:()=>a[m],enumerable:!(s=Cr(a,m))||s.enumerable});return i};var Z=(i,a,u)=>(u=i!=null?Ar(Tr(i)):{},Or(a||!i||!i.__esModule?rt(u,"default",{value:i,enumerable:!0}):u,i));var Q=z((oi,it)=>{"use strict";function te(i,a,u,s,m,c){return{tag:i,key:a,attrs:u,children:s,text:m,dom:c,domSize:void 0,state:void 0,events:void 0,instance:void 0}}te.normalize=function(i){return Array.isArray(i)?te("[",void 0,void 0,te.normalizeChildren(i),void 0,void 0):i==null||typeof i=="boolean"?null:typeof i=="object"?i:te("#",void 0,void 0,String(i),void 0,void 0)};te.normalizeChildren=function(i){var a=[];if(i.length){for(var u=i[0]!=null&&i[0].key!=null,s=1;s<i.length;s++)if((i[s]!=null&&i[s].key!=null)!==u)throw new TypeError(u&&(i[s]!=null||typeof i[s]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var s=0;s<i.length;s++)a[s]=te.normalize(i[s])}return a};it.exports=te});var _e=z((ci,nt)=>{"use strict";var zr=Q();nt.exports=function(){var i=arguments[this],a=this+1,u;if(i==null?i={}:(typeof i!="object"||i.tag!=null||Array.isArray(i))&&(i={},a=this),arguments.length===a+1)u=arguments[a],Array.isArray(u)||(u=[u]);else for(u=[];a<arguments.length;)u.push(arguments[a++]);return zr("",i.key,i,u)}});var ye=z((mi,at)=>{"use strict";at.exports={}.hasOwnProperty});var Ue=z((hi,lt)=>{"use strict";var Ir=Q(),Mr=_e(),De=ye(),Rr=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,ut=Object.create(null);function Sr(i){for(var a in i)if(De.call(i,a))return!1;return!0}function jr(i){for(var a,u="div",s=[],m={};a=Rr.exec(i);){var c=a[1],o=a[2];if(c===""&&o!=="")u=o;else if(c==="#")m.id=o;else if(c===".")s.push(o);else if(a[3][0]==="["){var p=a[6];p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),a[4]==="class"?s.push(p):m[a[4]]=p===""?p:p||!0}}return s.length>0&&(m.className=s.join(" ")),Sr(m)&&(m=null),ut[i]={tag:u,attrs:m}}function Pr(i,a){var u=a.attrs,s=De.call(u,"class"),m=s?u.class:u.className;return a.tag=i.tag,i.attrs!=null?(u=Object.assign({},i.attrs,u),(m!=null||i.attrs.className!=null)&&(u.className=m!=null?i.attrs.className!=null?String(i.attrs.className)+" "+String(m):m:i.attrs.className!=null?i.attrs.className:null)):m!=null&&(u.className=m),s&&(u.class=null),i.tag==="input"&&De.call(u,"type")&&(u=Object.assign({type:u.type},u)),a.attrs=u,a}function Fr(i){if(i==null||typeof i!="string"&&typeof i!="function"&&typeof i.view!="function")throw Error("The selector must be either a string or a component.");var a=Mr.apply(1,arguments);return typeof i=="string"&&(a.children=Ir.normalizeChildren(a.children),i!=="[")?Pr(ut[i]||jr(i),a):(a.tag=i,a)}lt.exports=Fr});var ft=z((pi,st)=>{"use strict";var Lr=Q();st.exports=function(i){return i==null&&(i=""),Lr("<",void 0,void 0,i,void 0,void 0)}});var ct=z((di,ot)=>{"use strict";var _r=Q(),Dr=_e();ot.exports=function(){var i=Dr.apply(0,arguments);return i.tag="[",i.children=_r.normalizeChildren(i.children),i}});var ht=z((gi,mt)=>{"use strict";var He=Ue();He.trust=ft();He.fragment=ct();mt.exports=He});var Be=z((yi,dt)=>{"use strict";var pt=new WeakMap;function*Ur(i,a={}){var u=i.dom,s=i.domSize,m=a.generation;if(u!=null)do{var c=u.nextSibling;pt.get(u)===m&&(yield u,s--),u=c}while(s)}dt.exports={delayedRemoval:pt,domFor:Ur}});var xt=z((bi,bt)=>{"use strict";var Ke=Q(),yt=Be(),gt=yt.delayedRemoval,$e=yt.domFor;bt.exports=function(){var i={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},a,u;function s(r){return r.ownerDocument}function m(r){return r.attrs&&r.attrs.xmlns||i[r.tag]}function c(r,e){if(r.state!==e)throw new Error("'vnode.state' must not be modified.")}function o(r){var e=r.state;try{return this.apply(e,arguments)}finally{c(r,e)}}function p(r){try{return s(r).activeElement}catch{return null}}function w(r,e,n,l,f,h,x){for(var A=n;A<l;A++){var d=e[A];d!=null&&v(r,d,f,x,h)}}function v(r,e,n,l,f){var h=e.tag;if(typeof h=="string")switch(e.state={},e.attrs!=null&&Ie(e.attrs,e,n),h){case"#":q(r,e,f);break;case"<":L(r,e,l,f);break;case"[":y(r,e,n,l,f);break;default:P(r,e,n,l,f)}else K(r,e,n,l,f)}function q(r,e,n){e.dom=s(r).createTextNode(e.children),G(r,e.dom,n)}var C={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function L(r,e,n,l){var f=e.children.match(/^\s*?<(\w+)/im)||[],h=s(r).createElement(C[f[1]]||"div");n==="http://www.w3.org/2000/svg"?(h.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",h=h.firstChild):h.innerHTML=e.children,e.dom=h.firstChild,e.domSize=h.childNodes.length;for(var x=s(r).createDocumentFragment(),A;A=h.firstChild;)x.appendChild(A);G(r,x,l)}function y(r,e,n,l,f){var h=s(r).createDocumentFragment();if(e.children!=null){var x=e.children;w(h,x,0,x.length,n,null,l)}e.dom=h.firstChild,e.domSize=h.childNodes.length,G(r,h,f)}function P(r,e,n,l,f){var h=e.tag,x=e.attrs,A=x&&x.is;l=m(e)||l;var d=l?A?s(r).createElementNS(l,h,{is:A}):s(r).createElementNS(l,h):A?s(r).createElement(h,{is:A}):s(r).createElement(h);if(e.dom=d,x!=null&&yr(e,x,l),G(r,d,f),!J(e)&&e.children!=null){var T=e.children;w(d,T,0,T.length,n,null,l),e.tag==="select"&&x!=null&&xr(e,x)}}function W(r,e){var n;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),n=r.state.view,n.$$reentrantLock$$!=null)return;n.$$reentrantLock$$=!0}else{if(r.state=void 0,n=r.tag,n.$$reentrantLock$$!=null)return;n.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(Ie(r.state,r,e),r.attrs!=null&&Ie(r.attrs,r,e),r.instance=Ke.normalize(o.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function K(r,e,n,l,f){W(e,n),e.instance!=null?(v(r,e.instance,n,l,f),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function $(r,e,n,l,f,h){if(!(e===n||e==null&&n==null))if(e==null||e.length===0)w(r,n,0,n.length,l,f,h);else if(n==null||n.length===0)se(r,e,0,e.length);else{var x=e[0]!=null&&e[0].key!=null,A=n[0]!=null&&n[0].key!=null,d=0,T=0;if(!x)for(;T<e.length&&e[T]==null;)T++;if(!A)for(;d<n.length&&n[d]==null;)d++;if(x!==A)se(r,e,T,e.length),w(r,n,d,n.length,l,f,h);else if(A){for(var U=e.length-1,F=n.length-1,ge,H,R,D,O,Se;U>=T&&F>=d&&(D=e[U],O=n[F],D.key===O.key);)D!==O&&B(r,D,O,l,f,h),O.dom!=null&&(f=O.dom),U--,F--;for(;U>=T&&F>=d&&(H=e[T],R=n[d],H.key===R.key);)T++,d++,H!==R&&B(r,H,R,l,ee(e,T,f),h);for(;U>=T&&F>=d&&!(d===F||H.key!==O.key||D.key!==R.key);)Se=ee(e,T,f),le(r,D,Se),D!==R&&B(r,D,R,l,Se,h),++d<=--F&&le(r,H,f),H!==O&&B(r,H,O,l,f,h),O.dom!=null&&(f=O.dom),T++,U--,D=e[U],O=n[F],H=e[T],R=n[d];for(;U>=T&&F>=d&&D.key===O.key;)D!==O&&B(r,D,O,l,f,h),O.dom!=null&&(f=O.dom),U--,F--,D=e[U],O=n[F];if(d>F)se(r,e,T,U+1);else if(T>U)w(r,n,d,F+1,l,f,h);else{var kr=f,tt=F-d+1,ce=new Array(tt),je=0,M=0,Pe=2147483647,Fe=0,ge,Le;for(M=0;M<tt;M++)ce[M]=-1;for(M=F;M>=d;M--){ge==null&&(ge=N(e,T,U+1)),O=n[M];var ie=ge[O.key];ie!=null&&(Pe=ie<Pe?ie:-1,ce[M-d]=ie,D=e[ie],e[ie]=null,D!==O&&B(r,D,O,l,f,h),O.dom!=null&&(f=O.dom),Fe++)}if(f=kr,Fe!==U-T+1&&se(r,e,T,U+1),Fe===0)w(r,n,d,F+1,l,f,h);else if(Pe===-1)for(Le=j(ce),je=Le.length-1,M=F;M>=d;M--)R=n[M],ce[M-d]===-1?v(r,R,l,h,f):Le[je]===M-d?je--:le(r,R,f),R.dom!=null&&(f=n[M].dom);else for(M=F;M>=d;M--)R=n[M],ce[M-d]===-1&&v(r,R,l,h,f),R.dom!=null&&(f=n[M].dom)}}else{var Re=e.length<n.length?e.length:n.length;for(d=d<T?d:T;d<Re;d++)H=e[d],R=n[d],!(H===R||H==null&&R==null)&&(H==null?v(r,R,l,h,ee(e,d+1,f)):R==null?pe(r,H):B(r,H,R,l,ee(e,d+1,f),h));e.length>Re&&se(r,e,d,e.length),n.length>Re&&w(r,n,d,n.length,l,f,h)}}}function B(r,e,n,l,f,h){var x=e.tag,A=n.tag;if(x===A){if(n.state=e.state,n.events=e.events,qr(n,e))return;if(typeof x=="string")switch(n.attrs!=null&&Me(n.attrs,n,l),x){case"#":I(e,n);break;case"<":g(r,e,n,h,f);break;case"[":E(r,e,n,l,f,h);break;default:b(e,n,l,h)}else S(r,e,n,l,f,h)}else pe(r,e),v(r,n,l,h,f)}function I(r,e){r.children.toString()!==e.children.toString()&&(r.dom.nodeValue=e.children),e.dom=r.dom}function g(r,e,n,l,f){e.children!==n.children?(de(r,e,void 0),L(r,n,l,f)):(n.dom=e.dom,n.domSize=e.domSize)}function E(r,e,n,l,f,h){$(r,e.children,n.children,l,f,h);var x=0,A=n.children;if(n.dom=null,A!=null){for(var d=0;d<A.length;d++){var T=A[d];T!=null&&T.dom!=null&&(n.dom==null&&(n.dom=T.dom),x+=T.domSize||1)}x!==1&&(n.domSize=x)}}function b(r,e,n,l){var f=e.dom=r.dom;l=m(e)||l,wr(e,r.attrs,e.attrs,l),J(e)||$(f,r.children,e.children,n,null,l)}function S(r,e,n,l,f,h){if(n.instance=Ke.normalize(o.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");Me(n.state,n,l),n.attrs!=null&&Me(n.attrs,n,l),n.instance!=null?(e.instance==null?v(r,n.instance,l,h,f):B(r,e.instance,n.instance,l,f,h),n.dom=n.instance.dom,n.domSize=n.instance.domSize):e.instance!=null?(pe(r,e.instance),n.dom=void 0,n.domSize=0):(n.dom=e.dom,n.domSize=e.domSize)}function N(r,e,n){for(var l=Object.create(null);e<n;e++){var f=r[e];if(f!=null){var h=f.key;h!=null&&(l[h]=e)}}return l}var k=[];function j(r){for(var e=[0],n=0,l=0,f=0,h=k.length=r.length,f=0;f<h;f++)k[f]=r[f];for(var f=0;f<h;++f)if(r[f]!==-1){var x=e[e.length-1];if(r[x]<r[f]){k[f]=x,e.push(f);continue}for(n=0,l=e.length-1;n<l;){var A=(n>>>1)+(l>>>1)+(n&l&1);r[e[A]]<r[f]?n=A+1:l=A}r[f]<r[e[n]]&&(n>0&&(k[f]=e[n-1]),e[n]=f)}for(n=e.length,l=e[n-1];n-- >0;)e[n]=l,l=k[l];return k.length=0,e}function ee(r,e,n){for(;e<r.length;e++)if(r[e]!=null&&r[e].dom!=null)return r[e].dom;return n}function le(r,e,n){if(e.dom!=null){var l;if(e.domSize==null)l=e.dom;else{l=s(r).createDocumentFragment();for(var f of $e(e))l.appendChild(f)}G(r,l,n)}}function G(r,e,n){n!=null?r.insertBefore(e,n):r.appendChild(e)}function J(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var e=r.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var n=e[0].children;r.dom.innerHTML!==n&&(r.dom.innerHTML=n)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function se(r,e,n,l){for(var f=n;f<l;f++){var h=e[f];h!=null&&pe(r,h)}}function pe(r,e){var n=0,l=e.state,f,h;if(typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"){var x=o.call(e.state.onbeforeremove,e);x!=null&&typeof x.then=="function"&&(n=1,f=x)}if(e.attrs&&typeof e.attrs.onbeforeremove=="function"){var x=o.call(e.attrs.onbeforeremove,e);x!=null&&typeof x.then=="function"&&(n|=2,h=x)}c(e,l);var A;if(!n)fe(e),de(r,e,A);else{A=u;for(var d of $e(e))gt.set(d,A);f?.finally(function(){n&1&&(n&=2,n||(c(e,l),fe(e),de(r,e,A)))}),h?.finally(function(){n&2&&(n&=1,n||(c(e,l),fe(e),de(r,e,A)))})}}function de(r,e,n){if(e.dom!=null)if(e.domSize==null)gt.get(e.dom)===n&&r.removeChild(e.dom);else for(var l of $e(e,{generation:n}))r.removeChild(l)}function fe(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&o.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&o.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&fe(r.instance);else{var e=r.children;if(Array.isArray(e))for(var n=0;n<e.length;n++){var l=e[n];l!=null&&fe(l)}}}function yr(r,e,n){for(var l in e)Oe(r,l,null,e[l],n)}function Oe(r,e,n,l,f){if(!(e==="key"||e==="is"||l==null||Ze(e)||n===l&&!vr(r,e)&&typeof l!="object")){if(e[0]==="o"&&e[1]==="n")return et(r,e,l);if(e.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),l);else if(e==="style")Xe(r.dom,n,l);else if(Ye(r,e,f)){if(e==="value"){var h=r.tag==="input"&&r.attrs.type==="file";if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+l&&(h||r.dom===p(r.dom))||r.tag==="select"&&n!==null&&r.dom.value===""+l||r.tag==="option"&&n!==null&&r.dom.value===""+l)return;if(h&&""+l!=""){console.error("`value` is read-only on file inputs!");return}}r.tag==="input"&&e==="type"?r.dom.setAttribute(e,l):r.dom[e]=l}else typeof l=="boolean"?l?r.dom.setAttribute(e,""):r.dom.removeAttribute(e):r.dom.setAttribute(e==="className"?"class":e,l)}}function br(r,e,n,l){if(!(e==="key"||e==="is"||n==null||Ze(e)))if(e[0]==="o"&&e[1]==="n")et(r,e,void 0);else if(e==="style")Xe(r.dom,n,null);else if(Ye(r,e,l)&&e!=="className"&&e!=="title"&&!(e==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===p(r.dom)))&&!(r.tag==="input"&&e==="type"))r.dom[e]=null;else{var f=e.indexOf(":");f!==-1&&(e=e.slice(f+1)),n!==!1&&r.dom.removeAttribute(e==="className"?"class":e)}}function xr(r,e){if("value"in e)if(e.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var n=""+e.value;(r.dom.value!==n||r.dom.selectedIndex===-1)&&(r.dom.value=n)}"selectedIndex"in e&&Oe(r,"selectedIndex",null,e.selectedIndex,void 0)}function wr(r,e,n,l){if(e&&e===n&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),n!=null)for(var f in n)Oe(r,f,e&&e[f],n[f],l);var h;if(e!=null)for(var f in e)(h=e[f])!=null&&(n==null||n[f]==null)&&br(r,f,h,l)}function vr(r,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&r.dom===p(r.dom)||r.tag==="option"&&r.dom.parentNode===p(r.dom)}function Ze(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function Ye(r,e,n){return n===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in r.dom}function Xe(r,e,n){if(e!==n)if(n==null)r.style="";else if(typeof n!="object")r.style=n;else if(e==null||typeof e!="object"){r.style.cssText="";for(var l in n){var f=n[l];f!=null&&(l.includes("-")?r.style.setProperty(l,String(f)):r.style[l]=String(f))}}else{for(var l in n){var f=n[l];f!=null&&(f=String(f))!==String(e[l])&&(l.includes("-")?r.style.setProperty(l,f):r.style[l]=f)}for(var l in e)e[l]!=null&&n[l]==null&&(l.includes("-")?r.style.removeProperty(l):r.style[l]="")}}function ze(){this._=a}ze.prototype=Object.create(null),ze.prototype.handleEvent=function(r){var e=this["on"+r.type],n;typeof e=="function"?n=e.call(r.currentTarget,r):typeof e.handleEvent=="function"&&e.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),n===!1&&(r.preventDefault(),r.stopPropagation())};function et(r,e,n){if(r.events!=null){if(r.events._=a,r.events[e]===n)return;n!=null&&(typeof n=="function"||typeof n=="object")?(r.events[e]==null&&r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=n):(r.events[e]!=null&&r.dom.removeEventListener(e.slice(2),r.events,!1),r.events[e]=void 0)}else n!=null&&(typeof n=="function"||typeof n=="object")&&(r.events=new ze,r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=n)}function Ie(r,e,n){typeof r.oninit=="function"&&o.call(r.oninit,e),typeof r.oncreate=="function"&&n.push(o.bind(r.oncreate,e))}function Me(r,e,n){typeof r.onupdate=="function"&&n.push(o.bind(r.onupdate,e))}function qr(r,e){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var n=o.call(r.attrs.onbeforeupdate,r,e);if(n!==void 0&&!n)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var n=o.call(r.state.onbeforeupdate,r,e);if(n!==void 0&&!n)break}return!1}while(!1);return r.dom=e.dom,r.domSize=e.domSize,r.instance=e.instance,r.attrs=e.attrs,r.children=e.children,r.text=e.text,!0}var oe;return function(r,e,n){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(oe!=null&&r.contains(oe))throw new TypeError("Node is currently being rendered to and thus is locked.");var l=a,f=oe,h=[],x=p(r),A=r.namespaceURI;oe=r,a=typeof n=="function"?n:void 0,u={};try{r.vnodes==null&&(r.textContent=""),e=Ke.normalizeChildren(Array.isArray(e)?e:[e]),$(r,r.vnodes,e,h,null,A==="http://www.w3.org/1999/xhtml"?void 0:A),r.vnodes=e,x!=null&&p(r)!==x&&typeof x.focus=="function"&&x.focus();for(var d=0;d<h.length;d++)h[d]()}finally{a=l,oe=f}}}});var Ge=z((xi,wt)=>{"use strict";wt.exports=xt()(typeof window<"u"?window:null)});var kt=z((wi,qt)=>{"use strict";var vt=Q();qt.exports=function(i,a,u){var s=[],m=!1,c=-1;function o(){for(c=0;c<s.length;c+=2)try{i(s[c],vt(s[c+1]),p)}catch(v){u.error(v)}c=-1}function p(){m||(m=!0,a(function(){m=!1,o()}))}p.sync=o;function w(v,q){if(q!=null&&q.view==null&&typeof q!="function")throw new TypeError("m.mount expects a component, not a vnode.");var C=s.indexOf(v);C>=0&&(s.splice(C,2),C<=c&&(c-=2),i(v,[])),q!=null&&(s.push(v,q),i(v,vt(q),p))}return{mount:w,redraw:p}}});var be=z((vi,At)=>{"use strict";var Hr=Ge();At.exports=kt()(Hr,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null)});var Qe=z((qi,Ct)=>{"use strict";Ct.exports=function(i){if(Object.prototype.toString.call(i)!=="[object Object]")return"";var a=[];for(var u in i)s(u,i[u]);return a.join("&");function s(m,c){if(Array.isArray(c))for(var o=0;o<c.length;o++)s(m+"["+o+"]",c[o]);else if(Object.prototype.toString.call(c)==="[object Object]")for(var o in c)s(m+"["+o+"]",c[o]);else a.push(encodeURIComponent(m)+(c!=null&&c!==""?"="+encodeURIComponent(c):""))}}});var xe=z((ki,Et)=>{"use strict";var Br=Qe();Et.exports=function(i,a){if(/:([^\/\.-]+)(\.{3})?:/.test(i))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(a==null)return i;var u=i.indexOf("?"),s=i.indexOf("#"),m=s<0?i.length:s,c=u<0?m:u,o=i.slice(0,c),p={};Object.assign(p,a);var w=o.replace(/:([^\/\.-]+)(\.{3})?/g,function(W,K,$){return delete p[K],a[K]==null?W:$?a[K]:encodeURIComponent(String(a[K]))}),v=w.indexOf("?"),q=w.indexOf("#"),C=q<0?w.length:q,L=v<0?C:v,y=w.slice(0,L);u>=0&&(y+=i.slice(u,m)),v>=0&&(y+=(u<0?"?":"&")+w.slice(v,C));var P=Br(p);return P&&(y+=(u<0&&v<0?"?":"&")+P),s>=0&&(y+=i.slice(s)),q>=0&&(y+=(s<0?"":"&")+w.slice(q)),y}});var Ot=z((Ai,Nt)=>{"use strict";var Kr=xe(),Tt=ye();Nt.exports=function(i,a){function u(c){return new Promise(c)}function s(c,o){return new Promise(function(p,w){c=Kr(c,o.params);var v=o.method!=null?o.method.toUpperCase():"GET",q=o.body,C=(o.serialize==null||o.serialize===JSON.serialize)&&!(q instanceof i.FormData||q instanceof i.URLSearchParams),L=o.responseType||(typeof o.extract=="function"?"":"json"),y=new i.XMLHttpRequest,P=!1,W=!1,K=y,$,B=y.abort;y.abort=function(){P=!0,B.call(this)},y.open(v,c,o.async!==!1,typeof o.user=="string"?o.user:void 0,typeof o.password=="string"?o.password:void 0),C&&q!=null&&!m(o,"content-type")&&y.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof o.deserialize!="function"&&!m(o,"accept")&&y.setRequestHeader("Accept","application/json, text/*"),o.withCredentials&&(y.withCredentials=o.withCredentials),o.timeout&&(y.timeout=o.timeout),y.responseType=L;for(var I in o.headers)Tt.call(o.headers,I)&&y.setRequestHeader(I,o.headers[I]);y.onreadystatechange=function(g){if(!P&&g.target.readyState===4)try{var E=g.target.status>=200&&g.target.status<300||g.target.status===304||/^file:\/\//i.test(c),b=g.target.response,S;if(L==="json"){if(!g.target.responseType&&typeof o.extract!="function")try{b=JSON.parse(g.target.responseText)}catch{b=null}}else(!L||L==="text")&&b==null&&(b=g.target.responseText);if(typeof o.extract=="function"?(b=o.extract(g.target,o),E=!0):typeof o.deserialize=="function"&&(b=o.deserialize(b)),E){if(typeof o.type=="function")if(Array.isArray(b))for(var N=0;N<b.length;N++)b[N]=new o.type(b[N]);else b=new o.type(b);p(b)}else{var k=function(){try{S=g.target.responseText}catch{S=b}var j=new Error(S);j.code=g.target.status,j.response=b,w(j)};y.status===0?setTimeout(function(){W||k()}):k()}}catch(j){w(j)}},y.ontimeout=function(g){W=!0;var E=new Error("Request timed out");E.code=g.target.status,w(E)},typeof o.config=="function"&&(y=o.config(y,o,c)||y,y!==K&&($=y.abort,y.abort=function(){P=!0,$.call(this)})),q==null?y.send():typeof o.serialize=="function"?y.send(o.serialize(q)):q instanceof i.FormData||q instanceof i.URLSearchParams?y.send(q):y.send(JSON.stringify(q))})}u.prototype=Promise.prototype,u.__proto__=Promise;function m(c,o){for(var p in c.headers)if(Tt.call(c.headers,p)&&p.toLowerCase()===o)return!0;return!1}return{request:function(c,o){typeof c!="string"?(o=c,c=c.url):o==null&&(o={});var p=s(c,o);if(o.background===!0)return p;var w=0;function v(){--w===0&&typeof a=="function"&&a()}return q(p);function q(C){var L=C.then;return C.constructor=u,C.then=function(){w++;var y=L.apply(C,arguments);return y.then(v,function(P){if(v(),w===0)throw P}),q(y)},C}}}}});var It=z((Ci,zt)=>{"use strict";var $r=be();zt.exports=Ot()(typeof window<"u"?window:null,$r.redraw)});var Ve=z((Ei,Rt)=>{"use strict";function Mt(i){try{return decodeURIComponent(i)}catch{return i}}Rt.exports=function(i){if(i===""||i==null)return{};i.charAt(0)==="?"&&(i=i.slice(1));for(var a=i.split("&"),u={},s={},m=0;m<a.length;m++){var c=a[m].split("="),o=Mt(c[0]),p=c.length===2?Mt(c[1]):"";p==="true"?p=!0:p==="false"&&(p=!1);var w=o.split(/\]\[?|\[/),v=s;o.indexOf("[")>-1&&w.pop();for(var q=0;q<w.length;q++){var C=w[q],L=w[q+1],y=L==""||!isNaN(parseInt(L,10));if(C===""){var o=w.slice(0,q).join();u[o]==null&&(u[o]=Array.isArray(v)?v.length:0),C=u[o]++}else if(C==="__proto__")break;if(q===w.length-1)v[C]=p;else{var P=Object.getOwnPropertyDescriptor(v,C);P!=null&&(P=P.value),P==null&&(v[C]=P=y?[]:{}),v=P}}}return s}});var we=z((Ti,St)=>{"use strict";var Gr=Ve();St.exports=function(i){var a=i.indexOf("?"),u=i.indexOf("#"),s=u<0?i.length:u,m=a<0?s:a,c=i.slice(0,m).replace(/\/{2,}/g,"/");return c?c[0]!=="/"&&(c="/"+c):c="/",{path:c,params:a<0?{}:Gr(i.slice(a+1,s))}}});var Pt=z((Ni,jt)=>{"use strict";var Qr=we();jt.exports=function(i){var a=Qr(i),u=Object.keys(a.params),s=[],m=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(c,o,p){return o==null?"\\"+c:(s.push({k:o,r:p==="..."}),p==="..."?"(.*)":p==="."?"([^/]+)\\.":"([^/]+)"+(p||""))})+"$");return function(c){for(var o=0;o<u.length;o++)if(a.params[u[o]]!==c.params[u[o]])return!1;if(!s.length)return m.test(c.path);var p=m.exec(c.path);if(p==null)return!1;for(var o=0;o<s.length;o++)c.params[s[o].k]=s[o].r?p[o+1]:decodeURIComponent(p[o+1]);return!0}}});var We=z((Oi,_t)=>{"use strict";var Ft=ye(),Lt=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");_t.exports=function(i,a){var u={};if(a!=null)for(var s in i)Ft.call(i,s)&&!Lt.test(s)&&a.indexOf(s)<0&&(u[s]=i[s]);else for(var s in i)Ft.call(i,s)&&!Lt.test(s)&&(u[s]=i[s]);return u}});var Bt=z((zi,Ht)=>{"use strict";var Vr=Q(),Wr=Ue(),Dt=xe(),Ut=we(),Jr=Pt(),Zr=We(),Je={};function Yr(i){try{return decodeURIComponent(i)}catch{return i}}Ht.exports=function(i,a){var u=i==null?null:typeof i.setImmediate=="function"?i.setImmediate:i.setTimeout,s=Promise.resolve(),m=!1,c=!1,o=0,p,w,v=Je,q,C,L,y,P={onbeforeupdate:function(){return o=o?2:1,!(!o||Je===v)},onremove:function(){i.removeEventListener("popstate",$,!1),i.removeEventListener("hashchange",K,!1)},view:function(){if(!(!o||Je===v)){var g=[Vr(q,C.key,C)];return v&&(g=v.render(g[0])),g}}},W=I.SKIP={};function K(){m=!1;var g=i.location.hash;I.prefix[0]!=="#"&&(g=i.location.search+g,I.prefix[0]!=="?"&&(g=i.location.pathname+g,g[0]!=="/"&&(g="/"+g)));var E=g.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,Yr).slice(I.prefix.length),b=Ut(E);Object.assign(b.params,i.history.state);function S(k){console.error(k),B(w,null,{replace:!0})}N(0);function N(k){for(;k<p.length;k++)if(p[k].check(b)){var j=p[k].component,ee=p[k].route,le=j,G=y=function(J){if(G===y){if(J===W)return N(k+1);q=J!=null&&(typeof J.view=="function"||typeof J=="function")?J:"div",C=b.params,L=E,y=null,v=j.render?j:null,o===2?a.redraw():(o=2,a.redraw.sync())}};j.view||typeof j=="function"?(j={},G(le)):j.onmatch?s.then(function(){return j.onmatch(b.params,E,ee)}).then(G,E===w?null:S):G("div");return}if(E===w)throw new Error("Could not resolve default route "+w+".");B(w,null,{replace:!0})}}function $(){m||(m=!0,u(K))}function B(g,E,b){if(g=Dt(g,E),c){$();var S=b?b.state:null,N=b?b.title:null;b&&b.replace?i.history.replaceState(S,N,I.prefix+g):i.history.pushState(S,N,I.prefix+g)}else i.location.href=I.prefix+g}function I(g,E,b){if(!g)throw new TypeError("DOM element being rendered to does not exist.");if(p=Object.keys(b).map(function(N){if(N[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(N))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:N,component:b[N],check:Jr(N)}}),w=E,E!=null){var S=Ut(E);if(!p.some(function(N){return N.check(S)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof i.history.pushState=="function"?i.addEventListener("popstate",$,!1):I.prefix[0]==="#"&&i.addEventListener("hashchange",K,!1),c=!0,a.mount(g,P),K()}return I.set=function(g,E,b){y!=null&&(b=b||{},b.replace=!0),y=null,B(g,E,b)},I.get=function(){return L},I.prefix="#!",I.Link={view:function(g){var E=Wr(g.attrs.selector||"a",Zr(g.attrs,["options","params","selector","onclick"]),g.children),b,S,N;return(E.attrs.disabled=!!E.attrs.disabled)?(E.attrs.href=null,E.attrs["aria-disabled"]="true"):(b=g.attrs.options,S=g.attrs.onclick,N=Dt(E.attrs.href,g.attrs.params),E.attrs.href=I.prefix+N,E.attrs.onclick=function(k){var j;typeof S=="function"?j=S.call(k.currentTarget,k):S==null||typeof S!="object"||typeof S.handleEvent=="function"&&S.handleEvent(k),j!==!1&&!k.defaultPrevented&&(k.button===0||k.which===0||k.which===1)&&(!k.currentTarget.target||k.currentTarget.target==="_self")&&!k.ctrlKey&&!k.metaKey&&!k.shiftKey&&!k.altKey&&(k.preventDefault(),k.redraw=!1,I.set(N,null,b))}),E}},I.param=function(g){return C&&g!=null?C[g]:C},I}});var $t=z((Ii,Kt)=>{"use strict";var Xr=be();Kt.exports=Bt()(typeof window<"u"?window:null,Xr)});var V=z((Mi,Qt)=>{"use strict";var ve=ht(),ei=It(),Gt=be(),ti=Be(),_=function(){return ve.apply(this,arguments)};_.m=ve;_.trust=ve.trust;_.fragment=ve.fragment;_.Fragment="[";_.mount=Gt.mount;_.route=$t();_.render=Ge();_.redraw=Gt.redraw;_.request=ei.request;_.parseQueryString=Ve();_.buildQueryString=Qe();_.parsePathname=we();_.buildPathname=xe();_.vnode=Q();_.censor=We();_.domFor=ti.domFor;Qt.exports=_});var ue=Z(V());var Vt={cs:{Search:"Hledani",Archive:"Archiv"},ru:{Feeds:"\u041F\u043E\u0434\u043F\u0438\u0441\u043A\u0438",Search:"\u041F\u043E\u0438\u0441\u043A",Archive:"\u0410\u0440\u0445\u0438\u0432"}};function Wt(i){var a,u,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var m=i.length;for(a=0;a<m;a++)i[a]&&(u=Wt(i[a]))&&(s&&(s+=" "),s+=u)}else for(u in i)i[u]&&(s&&(s+=" "),s+=u);return s}function ri(){for(var i,a,u=0,s="",m=arguments.length;u<m;u++)(i=arguments[u])&&(a=Wt(i))&&(s&&(s+=" "),s+=a);return s}var Y=ri;var Jt={view:function(i){let{type:a}=i.attrs,u=Y("flex items-center p-4 mb-4 text-sm border rounded-lg",{[i.attrs.class]:i.attrs.class,"text-blue-800 border-blue-300 bg-blue-50 dark:bg-gray-800 dark:text-blue-400 dark:border-blue-800":a==="info","text-red-800 border-red-300 bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800":a==="danger","text-green-800 border-green-300 bg-green-50 dark:bg-gray-800 dark:text-green-400 dark:border-green-800":a==="success","text-yellow-800 border-yellow-300 bg-yellow-50 dark:bg-gray-800 dark:text-yellow-300 dark:border-yellow-800":a==="warning"});return mCreateElement("div",{class:u,role:"alert"},mCreateElement("svg",{class:"flex-shrink-0 inline w-4 h-4 me-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},mCreateElement("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})),mCreateElement("span",{class:"sr-only"},i.attrs.text),mCreateElement("div",null,i.attrs.alert??i.attrs.text))}};var Zt=Z(V());function qe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var a=Math.random()*16|0,u=i=="x"?a:a&3|8;return u.toString(16)})}var me={items:[],removeNotification:function(i){let a=me.items.find(u=>u.key===i);me.items.splice(a,1)}};function Yt(i,a){let u=qe();me.items.push({key:u,text:i,type:a})}var Xt={view:function(i){return mCreateElement("div",{class:"flex flex-col gap-2 fixed bottom-5 right-5 w-[20rem]"},me.items.map(a=>{let{key:u,text:s,type:m}=a;return mCreateElement(ii,{key:u,text:s,type:m,timeout:i.attrs.timeout})}))}},ii={oninit:function(i){let{key:a,timeout:u=5e3}=i.attrs;setTimeout(()=>{me.removeNotification(a),Zt.default.redraw()},u)},view:function(i){let{text:a,type:u}=i.attrs;return mCreateElement(Jt,{class:"w-full",text:a,type:u})}};var ke={view:function(i){let a=Y("text-lg group-hover:text-blue-600 dark:group-hover:text-blue-500",{"text-gray-500 dark:text-gray-400":!i.attrs.selected,"text-blue-600 dark:text-gray-500 font-bold":i.attrs.selected});return mCreateElement("a",{href:i.attrs.path,class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group"},i.attrs.icon,mCreateElement("span",{class:a},i.attrs.name))}};var er=Z(V()),tr={view:function(){let i=er.default.route.get();return mCreateElement("header",{class:"w-full h-16 bg-gray-50 border-b border-gray-200 dark:bg-gray-700 dark:border-gray-600"},mCreateElement("div",{class:"grid h-full max-w-lg grid-cols-4 mx-auto font-medium"},mCreateElement(ke,{path:"#/index",name:t("Feeds"),selected:i===Ae.feed}),mCreateElement(ke,{path:"#/search",name:t("Search"),selected:i===Ae.search}),mCreateElement(ke,{path:"#/archive",name:t("Archive"),selected:i===Ae.archive})))}};var rr={view:function(i){return mCreateElement("div",null,mCreateElement(tr,null),i.children,mCreateElement(Xt,null))}};var cr=Z(V());var Ee=Z(V());var ir=Z(V()),nr={user:"unknown",lang:"en",feeds:[]};function Ce(){ir.default.request({method:"GET",url:"/ytod/api/user_info"}).then(function(i){nr=i})}function ar(i){for(var a of nr.feeds)if(a===i)return!0;return!1}var he={view:function(i){let{size:a="base",color:u="blue"}=i.attrs,s=Y({"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800":u==="green","focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900":u==="red","focus:outline-none text-white bg-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 font-medium rounded-lg me-2 mb-2 dark:focus:ring-yellow-900":u==="yellow","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800":u==="blue","px-3 py-2 text-xs":a==="xs","px-3 py-2 text-sm":a==="sm","px-5 py-2.5 text-sm":a==="base","px-5 py-3 text-base":a==="lg","px-6 py-3.5 text-base":a==="xl"});return mCreateElement("button",{type:"button",class:s,onclick:i.attrs.onClick},i.attrs.name)}};var ur=i=>()=>{document.getElementById(i).showModal()},ni=i=>()=>{document.getElementById(i).close()},lr={view:function(i){let{modalId:a,header:u,footer:s,class:m}=i.attrs;return mCreateElement("dialog",{id:a,class:Y("bg-white rounded-lg shadow dark:bg-gray-700",{[m]:m})},mCreateElement("div",{class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},mCreateElement("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"},u),mCreateElement("button",{type:"button",onclick:ni(a),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"},mCreateElement("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},mCreateElement("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})),mCreateElement("span",{class:"sr-only"},"Close modal"))),mCreateElement("div",{class:"p-4 md:p-5 space-y-4"},i.children),s&&mCreateElement("div",{class:"flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600"},s))}};function sr(i){let a=Date.now(),u=Math.round(a/1e3)-i;if(u<61)return"just now";let s=Math.floor(u/60);if(s<60)return s+" minute(s) ago";let m=Math.floor(s/60);if(m<24)return m+" hour(s) ago";let c=Math.floor(m/24);if(c<=31)return c+" day(s) ago";let o=Math.floor(c/30);return o<=12?o+" month(s) ago":Math.floor(o/12)+" year(s) ago"}function ai(i){return function(a){return function(){Ee.default.request({method:"POST",url:"/ytod/api/download",body:{video_id:a}}).then(u=>{Yt("Video was successfully queued","success")})}}(i.video_id)}function ui(i){return function(a){return function(){Ee.default.route.set("/watch/:videoid",{videoid:a})}}(i.watch)}function fr(i,a){return function(u,s){return function(){Ee.default.request({method:"GET",url:`/ytod/api/${s}`,params:{channel_id:u}}).then(()=>{Ce()})}}(i.channel_id,a?"subscribe":"unsubscribe")}var Te={id:qe(),descriptionOpen:!1,view:function(i){let a=i.attrs.item;if(!a)return mCreateElement("div",{class:"invalid_item"},"Invalid use of Item");let u=a.thumbnail?mCreateElement("img",{class:"rounded-lg",src:a.thumbnail.url,width:a.thumbnail.width,height:a.thumbnail.height}):mCreateElement("span",null),s=a.watch?mCreateElement(he,{color:"green",size:"xs",onClick:ui(a),name:"Watch"}):mCreateElement(he,{color:"yellow",size:"xs",onClick:ai(a),name:"Download"}),m;ar(a.channel_id)?m=mCreateElement(he,{color:"red",size:"xs",onClick:fr(a,!1),name:"Unsubscribe"}):m=mCreateElement(he,{color:"blue",size:"xs",onClick:fr(a,!0),name:"Subscribe"});let c=`description-modal-${this.id}`;return mCreateElement("div",{class:"max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"},u,mCreateElement("div",{class:"flex justify-between"},mCreateElement("span",{class:"font-bold text-gray-600"},a.title),a.description&&mCreateElement("button",{class:"w-4 h-4 shrink-0 self-center",type:"button",onclick:ur(c)},mCreateElement("img",{src:"info.svg"}))),mCreateElement("a",{class:"underline underline-offset-1 italic",href:a.link},"Watch on YouTube"),mCreateElement("br",null),mCreateElement("span",{class:"text-gray-800 font-semibold text-sm"},"Channel "),mCreateElement("span",{class:"text-gray-600 uppercase"},a.channel),mCreateElement("div",{class:"pt-3 flex gap-2"},m,s),mCreateElement("div",{class:"text-gray-500 text-sm"},sr(a.time)),mCreateElement(lr,{name:"description",header:a.channel,content:a.description,modalId:c,class:"max-h-[80%] w-[80%] md:w-2/3 lg:w-1/2"},mCreateElement("div",{class:"px-3 py-2"},mCreateElement("h4",{class:"font-semibold text-gray-700 dark:text-white pb-3"},a.title),mCreateElement("p",null,a.description))))}};var or={view:function(i){let{feeds:a}=i.attrs;i.state.inactiveFeedKeys??=[];let u=[];for(let s in a){let m=i.state.inactiveFeedKeys.includes(s);u.push(mCreateElement("div",null,a[s].title," - ",m?"inactive":"active"))}return mCreateElement("dialog",{class:"relative left-0 top-0 flex flex-col"},u)}};var X={feeds:[],view:function(){allItems=[];for(let i in X.feeds){let a=X.feeds[i];allItems.push(...a.items)}return allItems.sort((i,a)=>a.time-i.time),mCreateElement("div",null,mCreateElement(or,{feeds:X.feeds}),mCreateElement("div",{class:"p-5 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},allItems.map(i=>mCreateElement(Te,{item:i}))))},updateFeed:function(){cr.default.request({method:"GET",url:"/ytod/api/feeds"}).then(i=>{X.feeds=i})}};var mr={view:function(i){return mCreateElement("div",{class:"p-6 flex justify-center"},mCreateElement("video",{controls:!0},mCreateElement("source",{src:`/ytod/api/video/${i.attrs.videoid}`})))}};var Ne={view:function(i){let a=i.attrs.feed||{items:[],title:""},u=[];for(let s of a.items)u.push(mCreateElement(Te,{item:s}));return mCreateElement("div",{class:i.attrs.class},mCreateElement("div",{class:"py-4 text-center text-gray-800 text-lg"},a.title),mCreateElement("div",{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},u))}};function li(i){let a=document.getElementById("search_button");i.code==="Enter"?(i.preventDefault(),a.click()):i.redraw=!1}var hr={view:function(i){return mCreateElement("search",{class:"flex items-center max-w-sm mx-auto"},mCreateElement("label",{for:i.attrs.id,class:"sr-only"},t("Search")),mCreateElement("div",{class:"relative w-full"},mCreateElement("input",{type:"text",id:i.attrs.id,onkeydown:li,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search..."})),mCreateElement("button",{id:"search_button",type:"button",onclick:i.attrs.onSearch,class:"p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},mCreateElement("svg",{class:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},mCreateElement("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})),mCreateElement("span",{class:"sr-only"},"Search")))}};var pr=Z(V());function si(){let i=document.getElementById("search_query").value;ne.loading=!0,pr.default.request({method:"GET",url:"/ytod/api/search",params:{q:i}}).then(function(a){ne.result=a,ne.loading=!1})}var ne={result:{title:"",items:[]},loading:!1,view:function(i){return mCreateElement("div",{class:"p-6"},mCreateElement(hr,{id:"search_query",onSearch:si}),mCreateElement("div",null,mCreateElement("div",{class:this.loading?null:"hidden"},"Loading..."),mCreateElement("div",{class:this.loading?"hidden":null},mCreateElement(Ne,{feed:ne.result}))))}};var dr=Z(V()),ae={data:{title:"Archive",items:[]},view:function(){return mCreateElement(Ne,{class:"p-5",feed:ae.data})},update:function(){dr.default.request({method:"GET",url:"/ytod/api/local_videos"}).then(function(i){ae.data.items=i.result})}};window.mCreateElement=ue.default;window.mFragment={view:i=>i.children};window.t=function(i){return window._ytodLang&&window._ytodLang.hasOwnProperty(i)?window._ytodLang[i]:i};var Ae={feed:"index",watch:"watch",search:"search",archive:"archive"},gr={index:()=>X.updateFeed(),archive:()=>ae.update()};function re(i){return{view:function(a){let u=ue.default.route.get();return u!==re.lastRoute&&gr.hasOwnProperty(u)&&gr[u](),re.lastRoute=u,(0,ue.default)(rr,(0,ue.default)(i,a.attrs))}}}re.lastRoute="index";window.onload=function(){Ce(),ae.update();let i=navigator.language||navigator.userLanguage;if(i.length>2){let a=i.substr(0,2),u=Vt[a];typeof u<"u"&&(window._ytodLang=u)}ue.default.route(document.body,"/index",{"/index":re(X),"/watch/:videoid":re(mr),"/search":re(ne),"/archive":re(ae)}),X.updateFeed()};})();
//# sourceMappingURL=index.js.map
