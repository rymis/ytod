(()=>{var cr=Object.create;var Ze=Object.defineProperty;var or=Object.getOwnPropertyDescriptor;var mr=Object.getOwnPropertyNames;var hr=Object.getPrototypeOf,pr=Object.prototype.hasOwnProperty;var N=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports);var dr=(r,n,s,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let m of mr(n))!pr.call(r,m)&&m!==s&&Ze(r,m,{get:()=>n[m],enumerable:!(f=or(n,m))||f.enumerable});return r};var X=(r,n,s)=>(s=r!=null?cr(hr(r)):{},dr(n||!r||!r.__esModule?Ze(s,"default",{value:r,enumerable:!0}):s,r));var Q=N((Jr,et)=>{"use strict";function Z(r,n,s,f,m,c){return{tag:r,key:n,attrs:s,children:f,text:m,dom:c,domSize:void 0,state:void 0,events:void 0,instance:void 0}}Z.normalize=function(r){return Array.isArray(r)?Z("[",void 0,void 0,Z.normalizeChildren(r),void 0,void 0):r==null||typeof r=="boolean"?null:typeof r=="object"?r:Z("#",void 0,void 0,String(r),void 0,void 0)};Z.normalizeChildren=function(r){var n=[];if(r.length){for(var s=r[0]!=null&&r[0].key!=null,f=1;f<r.length;f++)if((r[f]!=null&&r[f].key!=null)!==s)throw new TypeError(s&&(r[f]!=null||typeof r[f]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var f=0;f<r.length;f++)n[f]=Z.normalize(r[f])}return n};et.exports=Z});var Pe=N((Kr,tt)=>{"use strict";var gr=Q();tt.exports=function(){var r=arguments[this],n=this+1,s;if(r==null?r={}:(typeof r!="object"||r.tag!=null||Array.isArray(r))&&(r={},n=this),arguments.length===n+1)s=arguments[n],Array.isArray(s)||(s=[s]);else for(s=[];n<arguments.length;)s.push(arguments[n++]);return gr("",r.key,r,s)}});var pe=N((Vr,rt)=>{"use strict";rt.exports={}.hasOwnProperty});var Fe=N((Yr,nt)=>{"use strict";var yr=Q(),br=Pe(),Se=pe(),wr=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,it=Object.create(null);function xr(r){for(var n in r)if(Se.call(r,n))return!1;return!0}function vr(r){for(var n,s="div",f=[],m={};n=wr.exec(r);){var c=n[1],u=n[2];if(c===""&&u!=="")s=u;else if(c==="#")m.id=u;else if(c===".")f.push(u);else if(n[3][0]==="["){var h=n[6];h&&(h=h.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),n[4]==="class"?f.push(h):m[n[4]]=h===""?h:h||!0}}return f.length>0&&(m.className=f.join(" ")),xr(m)&&(m=null),it[r]={tag:s,attrs:m}}function qr(r,n){var s=n.attrs,f=Se.call(s,"class"),m=f?s.class:s.className;return n.tag=r.tag,r.attrs!=null?(s=Object.assign({},r.attrs,s),(m!=null||r.attrs.className!=null)&&(s.className=m!=null?r.attrs.className!=null?String(r.attrs.className)+" "+String(m):m:r.attrs.className!=null?r.attrs.className:null)):m!=null&&(s.className=m),f&&(s.class=null),r.tag==="input"&&Se.call(s,"type")&&(s=Object.assign({type:s.type},s)),n.attrs=s,n}function Cr(r){if(r==null||typeof r!="string"&&typeof r!="function"&&typeof r.view!="function")throw Error("The selector must be either a string or a component.");var n=br.apply(1,arguments);return typeof r=="string"&&(n.children=yr.normalizeChildren(n.children),r!=="[")?qr(it[r]||vr(r),n):(n.tag=r,n)}nt.exports=Cr});var lt=N((Xr,at)=>{"use strict";var Er=Q();at.exports=function(r){return r==null&&(r=""),Er("<",void 0,void 0,r,void 0,void 0)}});var ft=N((Zr,ut)=>{"use strict";var Ar=Q(),Or=Pe();ut.exports=function(){var r=Or.apply(0,arguments);return r.tag="[",r.children=Ar.normalizeChildren(r.children),r}});var ct=N((ei,st)=>{"use strict";var De=Fe();De.trust=lt();De.fragment=ft();st.exports=De});var _e=N((ti,mt)=>{"use strict";var ot=new WeakMap;function*zr(r,n={}){var s=r.dom,f=r.domSize,m=n.generation;if(s!=null)do{var c=s.nextSibling;ot.get(s)===m&&(yield s,f--),s=c}while(f)}mt.exports={delayedRemoval:ot,domFor:zr}});var gt=N((ri,dt)=>{"use strict";var Me=Q(),pt=_e(),ht=pt.delayedRemoval,Le=pt.domFor;dt.exports=function(){var r={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},n,s;function f(t){return t.ownerDocument}function m(t){return t.attrs&&t.attrs.xmlns||r[t.tag]}function c(t,e){if(t.state!==e)throw new Error("'vnode.state' must not be modified.")}function u(t){var e=t.state;try{return this.apply(e,arguments)}finally{c(t,e)}}function h(t){try{return f(t).activeElement}catch{return null}}function w(t,e,i,a,l,o,b){for(var C=i;C<a;C++){var p=e[C];p!=null&&x(t,p,l,b,o)}}function x(t,e,i,a,l){var o=e.tag;if(typeof o=="string")switch(e.state={},e.attrs!=null&&Oe(e.attrs,e,i),o){case"#":v(t,e,l);break;case"<":D(t,e,a,l);break;case"[":g(t,e,i,a,l);break;default:S(t,e,i,a,l)}else B(t,e,i,a,l)}function v(t,e,i){e.dom=f(t).createTextNode(e.children),G(t,e.dom,i)}var E={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function D(t,e,i,a){var l=e.children.match(/^\s*?<(\w+)/im)||[],o=f(t).createElement(E[l[1]]||"div");i==="http://www.w3.org/2000/svg"?(o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",o=o.firstChild):o.innerHTML=e.children,e.dom=o.firstChild,e.domSize=o.childNodes.length;for(var b=f(t).createDocumentFragment(),C;C=o.firstChild;)b.appendChild(C);G(t,b,a)}function g(t,e,i,a,l){var o=f(t).createDocumentFragment();if(e.children!=null){var b=e.children;w(o,b,0,b.length,i,null,a)}e.dom=o.firstChild,e.domSize=o.childNodes.length,G(t,o,l)}function S(t,e,i,a,l){var o=e.tag,b=e.attrs,C=b&&b.is;a=m(e)||a;var p=a?C?f(t).createElementNS(a,o,{is:C}):f(t).createElementNS(a,o):C?f(t).createElement(o,{is:C}):f(t).createElement(o);if(e.dom=p,b!=null&&ir(e,b,a),G(t,p,l),!J(e)&&e.children!=null){var O=e.children;w(p,O,0,O.length,i,null,a),e.tag==="select"&&b!=null&&ar(e,b)}}function W(t,e){var i;if(typeof t.tag.view=="function"){if(t.state=Object.create(t.tag),i=t.state.view,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0}else{if(t.state=void 0,i=t.tag,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0,t.state=t.tag.prototype!=null&&typeof t.tag.prototype.view=="function"?new t.tag(t):t.tag(t)}if(Oe(t.state,t,e),t.attrs!=null&&Oe(t.attrs,t,e),t.instance=Me.normalize(u.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");i.$$reentrantLock$$=null}function B(t,e,i,a,l){W(e,i),e.instance!=null?(x(t,e.instance,i,a,l),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function $(t,e,i,a,l,o){if(!(e===i||e==null&&i==null))if(e==null||e.length===0)w(t,i,0,i.length,a,l,o);else if(i==null||i.length===0)ae(t,e,0,e.length);else{var b=e[0]!=null&&e[0].key!=null,C=i[0]!=null&&i[0].key!=null,p=0,O=0;if(!b)for(;O<e.length&&e[O]==null;)O++;if(!C)for(;p<i.length&&i[p]==null;)p++;if(b!==C)ae(t,e,O,e.length),w(t,i,p,i.length,a,l,o);else if(C){for(var L=e.length-1,F=i.length-1,he,U,R,M,T,Ne;L>=O&&F>=p&&(M=e[L],T=i[F],M.key===T.key);)M!==T&&H(t,M,T,a,l,o),T.dom!=null&&(l=T.dom),L--,F--;for(;L>=O&&F>=p&&(U=e[O],R=i[p],U.key===R.key);)O++,p++,U!==R&&H(t,U,R,a,Y(e,O,l),o);for(;L>=O&&F>=p&&!(p===F||U.key!==T.key||M.key!==R.key);)Ne=Y(e,O,l),ne(t,M,Ne),M!==R&&H(t,M,R,a,Ne,o),++p<=--F&&ne(t,U,l),U!==T&&H(t,U,T,a,l,o),T.dom!=null&&(l=T.dom),O++,L--,M=e[L],T=i[F],U=e[O],R=i[p];for(;L>=O&&F>=p&&M.key===T.key;)M!==T&&H(t,M,T,a,l,o),T.dom!=null&&(l=T.dom),L--,F--,M=e[L],T=i[F];if(p>F)ae(t,e,O,L+1);else if(O>L)w(t,i,p,F+1,a,l,o);else{var sr=l,Xe=F-p+1,fe=new Array(Xe),ke=0,I=0,Ie=2147483647,Re=0,he,je;for(I=0;I<Xe;I++)fe[I]=-1;for(I=F;I>=p;I--){he==null&&(he=z(e,O,L+1)),T=i[I];var ee=he[T.key];ee!=null&&(Ie=ee<Ie?ee:-1,fe[I-p]=ee,M=e[ee],e[ee]=null,M!==T&&H(t,M,T,a,l,o),T.dom!=null&&(l=T.dom),Re++)}if(l=sr,Re!==L-O+1&&ae(t,e,O,L+1),Re===0)w(t,i,p,F+1,a,l,o);else if(Ie===-1)for(je=P(fe),ke=je.length-1,I=F;I>=p;I--)R=i[I],fe[I-p]===-1?x(t,R,a,o,l):je[ke]===I-p?ke--:ne(t,R,l),R.dom!=null&&(l=i[I].dom);else for(I=F;I>=p;I--)R=i[I],fe[I-p]===-1&&x(t,R,a,o,l),R.dom!=null&&(l=i[I].dom)}}else{var Te=e.length<i.length?e.length:i.length;for(p=p<O?p:O;p<Te;p++)U=e[p],R=i[p],!(U===R||U==null&&R==null)&&(U==null?x(t,R,a,o,Y(e,p+1,l)):R==null?oe(t,U):H(t,U,R,a,Y(e,p+1,l),o));e.length>Te&&ae(t,e,p,e.length),i.length>Te&&w(t,i,p,i.length,a,l,o)}}}function H(t,e,i,a,l,o){var b=e.tag,C=i.tag;if(b===C){if(i.state=e.state,i.events=e.events,fr(i,e))return;if(typeof b=="string")switch(i.attrs!=null&&ze(i.attrs,i,a),b){case"#":k(e,i);break;case"<":d(t,e,i,o,l);break;case"[":A(t,e,i,a,l,o);break;default:y(e,i,a,o)}else j(t,e,i,a,l,o)}else oe(t,e),x(t,i,a,o,l)}function k(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}function d(t,e,i,a,l){e.children!==i.children?(me(t,e,void 0),D(t,i,a,l)):(i.dom=e.dom,i.domSize=e.domSize)}function A(t,e,i,a,l,o){$(t,e.children,i.children,a,l,o);var b=0,C=i.children;if(i.dom=null,C!=null){for(var p=0;p<C.length;p++){var O=C[p];O!=null&&O.dom!=null&&(i.dom==null&&(i.dom=O.dom),b+=O.domSize||1)}b!==1&&(i.domSize=b)}}function y(t,e,i,a){var l=e.dom=t.dom;a=m(e)||a,lr(e,t.attrs,e.attrs,a),J(e)||$(l,t.children,e.children,i,null,a)}function j(t,e,i,a,l,o){if(i.instance=Me.normalize(u.call(i.state.view,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");ze(i.state,i,a),i.attrs!=null&&ze(i.attrs,i,a),i.instance!=null?(e.instance==null?x(t,i.instance,a,o,l):H(t,e.instance,i.instance,a,l,o),i.dom=i.instance.dom,i.domSize=i.instance.domSize):e.instance!=null?(oe(t,e.instance),i.dom=void 0,i.domSize=0):(i.dom=e.dom,i.domSize=e.domSize)}function z(t,e,i){for(var a=Object.create(null);e<i;e++){var l=t[e];if(l!=null){var o=l.key;o!=null&&(a[o]=e)}}return a}var q=[];function P(t){for(var e=[0],i=0,a=0,l=0,o=q.length=t.length,l=0;l<o;l++)q[l]=t[l];for(var l=0;l<o;++l)if(t[l]!==-1){var b=e[e.length-1];if(t[b]<t[l]){q[l]=b,e.push(l);continue}for(i=0,a=e.length-1;i<a;){var C=(i>>>1)+(a>>>1)+(i&a&1);t[e[C]]<t[l]?i=C+1:a=C}t[l]<t[e[i]]&&(i>0&&(q[l]=e[i-1]),e[i]=l)}for(i=e.length,a=e[i-1];i-- >0;)e[i]=a,a=q[a];return q.length=0,e}function Y(t,e,i){for(;e<t.length;e++)if(t[e]!=null&&t[e].dom!=null)return t[e].dom;return i}function ne(t,e,i){if(e.dom!=null){var a;if(e.domSize==null)a=e.dom;else{a=f(t).createDocumentFragment();for(var l of Le(e))a.appendChild(l)}G(t,a,i)}}function G(t,e,i){i!=null?t.insertBefore(e,i):t.appendChild(e)}function J(t){if(t.attrs==null||t.attrs.contenteditable==null&&t.attrs.contentEditable==null)return!1;var e=t.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var i=e[0].children;t.dom.innerHTML!==i&&(t.dom.innerHTML=i)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function ae(t,e,i,a){for(var l=i;l<a;l++){var o=e[l];o!=null&&oe(t,o)}}function oe(t,e){var i=0,a=e.state,l,o;if(typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"){var b=u.call(e.state.onbeforeremove,e);b!=null&&typeof b.then=="function"&&(i=1,l=b)}if(e.attrs&&typeof e.attrs.onbeforeremove=="function"){var b=u.call(e.attrs.onbeforeremove,e);b!=null&&typeof b.then=="function"&&(i|=2,o=b)}c(e,a);var C;if(!i)le(e),me(t,e,C);else{C=s;for(var p of Le(e))ht.set(p,C);l?.finally(function(){i&1&&(i&=2,i||(c(e,a),le(e),me(t,e,C)))}),o?.finally(function(){i&2&&(i&=1,i||(c(e,a),le(e),me(t,e,C)))})}}function me(t,e,i){if(e.dom!=null)if(e.domSize==null)ht.get(e.dom)===i&&t.removeChild(e.dom);else for(var a of Le(e,{generation:i}))t.removeChild(a)}function le(t){if(typeof t.tag!="string"&&typeof t.state.onremove=="function"&&u.call(t.state.onremove,t),t.attrs&&typeof t.attrs.onremove=="function"&&u.call(t.attrs.onremove,t),typeof t.tag!="string")t.instance!=null&&le(t.instance);else{var e=t.children;if(Array.isArray(e))for(var i=0;i<e.length;i++){var a=e[i];a!=null&&le(a)}}}function ir(t,e,i){for(var a in e)Ee(t,a,null,e[a],i)}function Ee(t,e,i,a,l){if(!(e==="key"||e==="is"||a==null||Je(e)||i===a&&!ur(t,e)&&typeof a!="object")){if(e[0]==="o"&&e[1]==="n")return Ye(t,e,a);if(e.slice(0,6)==="xlink:")t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),a);else if(e==="style")Ve(t.dom,i,a);else if(Ke(t,e,l)){if(e==="value"){var o=t.tag==="input"&&t.attrs.type==="file";if((t.tag==="input"||t.tag==="textarea")&&t.dom.value===""+a&&(o||t.dom===h(t.dom))||t.tag==="select"&&i!==null&&t.dom.value===""+a||t.tag==="option"&&i!==null&&t.dom.value===""+a)return;if(o&&""+a!=""){console.error("`value` is read-only on file inputs!");return}}t.tag==="input"&&e==="type"?t.dom.setAttribute(e,a):t.dom[e]=a}else typeof a=="boolean"?a?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute(e==="className"?"class":e,a)}}function nr(t,e,i,a){if(!(e==="key"||e==="is"||i==null||Je(e)))if(e[0]==="o"&&e[1]==="n")Ye(t,e,void 0);else if(e==="style")Ve(t.dom,i,null);else if(Ke(t,e,a)&&e!=="className"&&e!=="title"&&!(e==="value"&&(t.tag==="option"||t.tag==="select"&&t.dom.selectedIndex===-1&&t.dom===h(t.dom)))&&!(t.tag==="input"&&e==="type"))t.dom[e]=null;else{var l=e.indexOf(":");l!==-1&&(e=e.slice(l+1)),i!==!1&&t.dom.removeAttribute(e==="className"?"class":e)}}function ar(t,e){if("value"in e)if(e.value===null)t.dom.selectedIndex!==-1&&(t.dom.value=null);else{var i=""+e.value;(t.dom.value!==i||t.dom.selectedIndex===-1)&&(t.dom.value=i)}"selectedIndex"in e&&Ee(t,"selectedIndex",null,e.selectedIndex,void 0)}function lr(t,e,i,a){if(e&&e===i&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),i!=null)for(var l in i)Ee(t,l,e&&e[l],i[l],a);var o;if(e!=null)for(var l in e)(o=e[l])!=null&&(i==null||i[l]==null)&&nr(t,l,o,a)}function ur(t,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&t.dom===h(t.dom)||t.tag==="option"&&t.dom.parentNode===h(t.dom)}function Je(t){return t==="oninit"||t==="oncreate"||t==="onupdate"||t==="onremove"||t==="onbeforeremove"||t==="onbeforeupdate"}function Ke(t,e,i){return i===void 0&&(t.tag.indexOf("-")>-1||t.attrs!=null&&t.attrs.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in t.dom}function Ve(t,e,i){if(e!==i)if(i==null)t.style="";else if(typeof i!="object")t.style=i;else if(e==null||typeof e!="object"){t.style.cssText="";for(var a in i){var l=i[a];l!=null&&(a.includes("-")?t.style.setProperty(a,String(l)):t.style[a]=String(l))}}else{for(var a in i){var l=i[a];l!=null&&(l=String(l))!==String(e[a])&&(a.includes("-")?t.style.setProperty(a,l):t.style[a]=l)}for(var a in e)e[a]!=null&&i[a]==null&&(a.includes("-")?t.style.removeProperty(a):t.style[a]="")}}function Ae(){this._=n}Ae.prototype=Object.create(null),Ae.prototype.handleEvent=function(t){var e=this["on"+t.type],i;typeof e=="function"?i=e.call(t.currentTarget,t):typeof e.handleEvent=="function"&&e.handleEvent(t),this._&&t.redraw!==!1&&(0,this._)(),i===!1&&(t.preventDefault(),t.stopPropagation())};function Ye(t,e,i){if(t.events!=null){if(t.events._=n,t.events[e]===i)return;i!=null&&(typeof i=="function"||typeof i=="object")?(t.events[e]==null&&t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=i):(t.events[e]!=null&&t.dom.removeEventListener(e.slice(2),t.events,!1),t.events[e]=void 0)}else i!=null&&(typeof i=="function"||typeof i=="object")&&(t.events=new Ae,t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=i)}function Oe(t,e,i){typeof t.oninit=="function"&&u.call(t.oninit,e),typeof t.oncreate=="function"&&i.push(u.bind(t.oncreate,e))}function ze(t,e,i){typeof t.onupdate=="function"&&i.push(u.bind(t.onupdate,e))}function fr(t,e){do{if(t.attrs!=null&&typeof t.attrs.onbeforeupdate=="function"){var i=u.call(t.attrs.onbeforeupdate,t,e);if(i!==void 0&&!i)break}if(typeof t.tag!="string"&&typeof t.state.onbeforeupdate=="function"){var i=u.call(t.state.onbeforeupdate,t,e);if(i!==void 0&&!i)break}return!1}while(!1);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}var ue;return function(t,e,i){if(!t)throw new TypeError("DOM element being rendered to does not exist.");if(ue!=null&&t.contains(ue))throw new TypeError("Node is currently being rendered to and thus is locked.");var a=n,l=ue,o=[],b=h(t),C=t.namespaceURI;ue=t,n=typeof i=="function"?i:void 0,s={};try{t.vnodes==null&&(t.textContent=""),e=Me.normalizeChildren(Array.isArray(e)?e:[e]),$(t,t.vnodes,e,o,null,C==="http://www.w3.org/1999/xhtml"?void 0:C),t.vnodes=e,b!=null&&h(t)!==b&&typeof b.focus=="function"&&b.focus();for(var p=0;p<o.length;p++)o[p]()}finally{n=a,ue=l}}}});var Ue=N((ii,yt)=>{"use strict";yt.exports=gt()(typeof window<"u"?window:null)});var xt=N((ni,wt)=>{"use strict";var bt=Q();wt.exports=function(r,n,s){var f=[],m=!1,c=-1;function u(){for(c=0;c<f.length;c+=2)try{r(f[c],bt(f[c+1]),h)}catch(x){s.error(x)}c=-1}function h(){m||(m=!0,n(function(){m=!1,u()}))}h.sync=u;function w(x,v){if(v!=null&&v.view==null&&typeof v!="function")throw new TypeError("m.mount expects a component, not a vnode.");var E=f.indexOf(x);E>=0&&(f.splice(E,2),E<=c&&(c-=2),r(x,[])),v!=null&&(f.push(x,v),r(x,bt(v),h))}return{mount:w,redraw:h}}});var de=N((ai,vt)=>{"use strict";var Tr=Ue();vt.exports=xt()(Tr,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null)});var He=N((li,qt)=>{"use strict";qt.exports=function(r){if(Object.prototype.toString.call(r)!=="[object Object]")return"";var n=[];for(var s in r)f(s,r[s]);return n.join("&");function f(m,c){if(Array.isArray(c))for(var u=0;u<c.length;u++)f(m+"["+u+"]",c[u]);else if(Object.prototype.toString.call(c)==="[object Object]")for(var u in c)f(m+"["+u+"]",c[u]);else n.push(encodeURIComponent(m)+(c!=null&&c!==""?"="+encodeURIComponent(c):""))}}});var ge=N((ui,Ct)=>{"use strict";var Nr=He();Ct.exports=function(r,n){if(/:([^\/\.-]+)(\.{3})?:/.test(r))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(n==null)return r;var s=r.indexOf("?"),f=r.indexOf("#"),m=f<0?r.length:f,c=s<0?m:s,u=r.slice(0,c),h={};Object.assign(h,n);var w=u.replace(/:([^\/\.-]+)(\.{3})?/g,function(W,B,$){return delete h[B],n[B]==null?W:$?n[B]:encodeURIComponent(String(n[B]))}),x=w.indexOf("?"),v=w.indexOf("#"),E=v<0?w.length:v,D=x<0?E:x,g=w.slice(0,D);s>=0&&(g+=r.slice(s,m)),x>=0&&(g+=(s<0?"?":"&")+w.slice(x,E));var S=Nr(h);return S&&(g+=(s<0&&x<0?"?":"&")+S),f>=0&&(g+=r.slice(f)),v>=0&&(g+=(f<0?"":"&")+w.slice(v)),g}});var Ot=N((fi,At)=>{"use strict";var kr=ge(),Et=pe();At.exports=function(r,n){function s(c){return new Promise(c)}function f(c,u){return new Promise(function(h,w){c=kr(c,u.params);var x=u.method!=null?u.method.toUpperCase():"GET",v=u.body,E=(u.serialize==null||u.serialize===JSON.serialize)&&!(v instanceof r.FormData||v instanceof r.URLSearchParams),D=u.responseType||(typeof u.extract=="function"?"":"json"),g=new r.XMLHttpRequest,S=!1,W=!1,B=g,$,H=g.abort;g.abort=function(){S=!0,H.call(this)},g.open(x,c,u.async!==!1,typeof u.user=="string"?u.user:void 0,typeof u.password=="string"?u.password:void 0),E&&v!=null&&!m(u,"content-type")&&g.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof u.deserialize!="function"&&!m(u,"accept")&&g.setRequestHeader("Accept","application/json, text/*"),u.withCredentials&&(g.withCredentials=u.withCredentials),u.timeout&&(g.timeout=u.timeout),g.responseType=D;for(var k in u.headers)Et.call(u.headers,k)&&g.setRequestHeader(k,u.headers[k]);g.onreadystatechange=function(d){if(!S&&d.target.readyState===4)try{var A=d.target.status>=200&&d.target.status<300||d.target.status===304||/^file:\/\//i.test(c),y=d.target.response,j;if(D==="json"){if(!d.target.responseType&&typeof u.extract!="function")try{y=JSON.parse(d.target.responseText)}catch{y=null}}else(!D||D==="text")&&y==null&&(y=d.target.responseText);if(typeof u.extract=="function"?(y=u.extract(d.target,u),A=!0):typeof u.deserialize=="function"&&(y=u.deserialize(y)),A){if(typeof u.type=="function")if(Array.isArray(y))for(var z=0;z<y.length;z++)y[z]=new u.type(y[z]);else y=new u.type(y);h(y)}else{var q=function(){try{j=d.target.responseText}catch{j=y}var P=new Error(j);P.code=d.target.status,P.response=y,w(P)};g.status===0?setTimeout(function(){W||q()}):q()}}catch(P){w(P)}},g.ontimeout=function(d){W=!0;var A=new Error("Request timed out");A.code=d.target.status,w(A)},typeof u.config=="function"&&(g=u.config(g,u,c)||g,g!==B&&($=g.abort,g.abort=function(){S=!0,$.call(this)})),v==null?g.send():typeof u.serialize=="function"?g.send(u.serialize(v)):v instanceof r.FormData||v instanceof r.URLSearchParams?g.send(v):g.send(JSON.stringify(v))})}s.prototype=Promise.prototype,s.__proto__=Promise;function m(c,u){for(var h in c.headers)if(Et.call(c.headers,h)&&h.toLowerCase()===u)return!0;return!1}return{request:function(c,u){typeof c!="string"?(u=c,c=c.url):u==null&&(u={});var h=f(c,u);if(u.background===!0)return h;var w=0;function x(){--w===0&&typeof n=="function"&&n()}return v(h);function v(E){var D=E.then;return E.constructor=s,E.then=function(){w++;var g=D.apply(E,arguments);return g.then(x,function(S){if(x(),w===0)throw S}),v(g)},E}}}}});var Tt=N((si,zt)=>{"use strict";var Ir=de();zt.exports=Ot()(typeof window<"u"?window:null,Ir.redraw)});var Be=N((ci,kt)=>{"use strict";function Nt(r){try{return decodeURIComponent(r)}catch{return r}}kt.exports=function(r){if(r===""||r==null)return{};r.charAt(0)==="?"&&(r=r.slice(1));for(var n=r.split("&"),s={},f={},m=0;m<n.length;m++){var c=n[m].split("="),u=Nt(c[0]),h=c.length===2?Nt(c[1]):"";h==="true"?h=!0:h==="false"&&(h=!1);var w=u.split(/\]\[?|\[/),x=f;u.indexOf("[")>-1&&w.pop();for(var v=0;v<w.length;v++){var E=w[v],D=w[v+1],g=D==""||!isNaN(parseInt(D,10));if(E===""){var u=w.slice(0,v).join();s[u]==null&&(s[u]=Array.isArray(x)?x.length:0),E=s[u]++}else if(E==="__proto__")break;if(v===w.length-1)x[E]=h;else{var S=Object.getOwnPropertyDescriptor(x,E);S!=null&&(S=S.value),S==null&&(x[E]=S=g?[]:{}),x=S}}}return f}});var ye=N((oi,It)=>{"use strict";var Rr=Be();It.exports=function(r){var n=r.indexOf("?"),s=r.indexOf("#"),f=s<0?r.length:s,m=n<0?f:n,c=r.slice(0,m).replace(/\/{2,}/g,"/");return c?c[0]!=="/"&&(c="/"+c):c="/",{path:c,params:n<0?{}:Rr(r.slice(n+1,f))}}});var jt=N((mi,Rt)=>{"use strict";var jr=ye();Rt.exports=function(r){var n=jr(r),s=Object.keys(n.params),f=[],m=new RegExp("^"+n.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(c,u,h){return u==null?"\\"+c:(f.push({k:u,r:h==="..."}),h==="..."?"(.*)":h==="."?"([^/]+)\\.":"([^/]+)"+(h||""))})+"$");return function(c){for(var u=0;u<s.length;u++)if(n.params[s[u]]!==c.params[s[u]])return!1;if(!f.length)return m.test(c.path);var h=m.exec(c.path);if(h==null)return!1;for(var u=0;u<f.length;u++)c.params[f[u].k]=f[u].r?h[u+1]:decodeURIComponent(h[u+1]);return!0}}});var $e=N((hi,Ft)=>{"use strict";var Pt=pe(),St=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");Ft.exports=function(r,n){var s={};if(n!=null)for(var f in r)Pt.call(r,f)&&!St.test(f)&&n.indexOf(f)<0&&(s[f]=r[f]);else for(var f in r)Pt.call(r,f)&&!St.test(f)&&(s[f]=r[f]);return s}});var Lt=N((pi,Mt)=>{"use strict";var Pr=Q(),Sr=Fe(),Dt=ge(),_t=ye(),Fr=jt(),Dr=$e(),Ge={};function _r(r){try{return decodeURIComponent(r)}catch{return r}}Mt.exports=function(r,n){var s=r==null?null:typeof r.setImmediate=="function"?r.setImmediate:r.setTimeout,f=Promise.resolve(),m=!1,c=!1,u=0,h,w,x=Ge,v,E,D,g,S={onbeforeupdate:function(){return u=u?2:1,!(!u||Ge===x)},onremove:function(){r.removeEventListener("popstate",$,!1),r.removeEventListener("hashchange",B,!1)},view:function(){if(!(!u||Ge===x)){var d=[Pr(v,E.key,E)];return x&&(d=x.render(d[0])),d}}},W=k.SKIP={};function B(){m=!1;var d=r.location.hash;k.prefix[0]!=="#"&&(d=r.location.search+d,k.prefix[0]!=="?"&&(d=r.location.pathname+d,d[0]!=="/"&&(d="/"+d)));var A=d.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,_r).slice(k.prefix.length),y=_t(A);Object.assign(y.params,r.history.state);function j(q){console.error(q),H(w,null,{replace:!0})}z(0);function z(q){for(;q<h.length;q++)if(h[q].check(y)){var P=h[q].component,Y=h[q].route,ne=P,G=g=function(J){if(G===g){if(J===W)return z(q+1);v=J!=null&&(typeof J.view=="function"||typeof J=="function")?J:"div",E=y.params,D=A,g=null,x=P.render?P:null,u===2?n.redraw():(u=2,n.redraw.sync())}};P.view||typeof P=="function"?(P={},G(ne)):P.onmatch?f.then(function(){return P.onmatch(y.params,A,Y)}).then(G,A===w?null:j):G("div");return}if(A===w)throw new Error("Could not resolve default route "+w+".");H(w,null,{replace:!0})}}function $(){m||(m=!0,s(B))}function H(d,A,y){if(d=Dt(d,A),c){$();var j=y?y.state:null,z=y?y.title:null;y&&y.replace?r.history.replaceState(j,z,k.prefix+d):r.history.pushState(j,z,k.prefix+d)}else r.location.href=k.prefix+d}function k(d,A,y){if(!d)throw new TypeError("DOM element being rendered to does not exist.");if(h=Object.keys(y).map(function(z){if(z[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(z))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:z,component:y[z],check:Fr(z)}}),w=A,A!=null){var j=_t(A);if(!h.some(function(z){return z.check(j)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof r.history.pushState=="function"?r.addEventListener("popstate",$,!1):k.prefix[0]==="#"&&r.addEventListener("hashchange",B,!1),c=!0,n.mount(d,S),B()}return k.set=function(d,A,y){g!=null&&(y=y||{},y.replace=!0),g=null,H(d,A,y)},k.get=function(){return D},k.prefix="#!",k.Link={view:function(d){var A=Sr(d.attrs.selector||"a",Dr(d.attrs,["options","params","selector","onclick"]),d.children),y,j,z;return(A.attrs.disabled=!!A.attrs.disabled)?(A.attrs.href=null,A.attrs["aria-disabled"]="true"):(y=d.attrs.options,j=d.attrs.onclick,z=Dt(A.attrs.href,d.attrs.params),A.attrs.href=k.prefix+z,A.attrs.onclick=function(q){var P;typeof j=="function"?P=j.call(q.currentTarget,q):j==null||typeof j!="object"||typeof j.handleEvent=="function"&&j.handleEvent(q),P!==!1&&!q.defaultPrevented&&(q.button===0||q.which===0||q.which===1)&&(!q.currentTarget.target||q.currentTarget.target==="_self")&&!q.ctrlKey&&!q.metaKey&&!q.shiftKey&&!q.altKey&&(q.preventDefault(),q.redraw=!1,k.set(z,null,y))}),A}},k.param=function(d){return E&&d!=null?E[d]:E},k}});var Ht=N((di,Ut)=>{"use strict";var Mr=de();Ut.exports=Lt()(typeof window<"u"?window:null,Mr)});var K=N((gi,$t)=>{"use strict";var be=ct(),Lr=Tt(),Bt=de(),Ur=_e(),_=function(){return be.apply(this,arguments)};_.m=be;_.trust=be.trust;_.fragment=be.fragment;_.Fragment="[";_.mount=Bt.mount;_.route=Ht();_.render=Ue();_.redraw=Bt.redraw;_.request=Lr.request;_.parseQueryString=Be();_.buildQueryString=He();_.parsePathname=ye();_.buildPathname=ge();_.vnode=Q();_.censor=$e();_.domFor=Ur.domFor;$t.exports=_});var We=X(K());var Xt=X(K());var ve=X(K());var Gt=X(K()),Qt={user:"unknown",lang:"en",feeds:[]};function we(){Gt.default.request({method:"GET",url:"/ytod/api/user_info"}).then(function(r){Qt=r})}function Wt(r){for(var n of Qt.feeds)if(n===r)return!0;return!1}function Jt(r){var n,s,f="";if(typeof r=="string"||typeof r=="number")f+=r;else if(typeof r=="object")if(Array.isArray(r)){var m=r.length;for(n=0;n<m;n++)r[n]&&(s=Jt(r[n]))&&(f&&(f+=" "),f+=s)}else for(s in r)r[s]&&(f&&(f+=" "),f+=s);return f}function Hr(){for(var r,n,s=0,f="",m=arguments.length;s<m;s++)(r=arguments[s])&&(n=Jt(r))&&(f&&(f+=" "),f+=n);return f}var xe=Hr;var se={view:function(r){let{size:n="base",color:s="blue"}=r.attrs,f=xe({"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800":s==="green","focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900":s==="red","focus:outline-none text-white bg-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 font-medium rounded-lg me-2 mb-2 dark:focus:ring-yellow-900":s==="yellow","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800":s==="blue","px-3 py-2 text-xs":n==="xs","px-3 py-2 text-sm":n==="sm","px-5 py-2.5 text-sm":n==="base","px-5 py-3 text-base":n==="lg","px-6 py-3.5 text-base":n==="xl"});return mCreateElement("button",{type:"button",class:f,onclick:r.attrs.onClick},r.attrs.name)}};var Kt={show:function(r){document.getElementById(r.attrs.modalId).showModal()},view:function(r){let{header:n,content:s,footer:f,modalId:m,open:c}=r.attrs;return mCreateElement("dialog",{id:m,tabindex:"-1",class:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},mCreateElement("div",{class:"relative p-4 w-full max-w-2xl max-h-full"},mCreateElement("div",{class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},mCreateElement("div",{class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},mCreateElement("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"},n),mCreateElement("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"default-modal"},mCreateElement("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},mCreateElement("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})),mCreateElement("span",{class:"sr-only"},"Close modal"))),mCreateElement("div",{class:"p-4 md:p-5 space-y-4"},s),f&&mCreateElement("div",{class:"flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600"},f))))}};function Br(r){return function(n){return function(){ve.default.request({method:"POST",url:"/ytod/api/download",body:{video_id:n}}).then(s=>{alert(JSON.stringify(s))})}}(r.video_id)}function $r(r){return function(n){return function(){ve.default.route.set("/watch/:videoid",{videoid:n})}}(r.watch)}function Vt(r,n){return function(s,f){return function(){ve.default.request({method:"GET",url:`/ytod/api/${f}`,params:{channel_id:s}}).then(()=>{we()})}}(r.channel_id,n?"subscribe":"unsubscribe")}var Qe={last_id:0,descriptionOpen:!1,view:function(r){let n=r.attrs.item;if(!n)return mCreateElement("div",{class:"invalid_item"},"Invalid use of Item");let s=n.thumbnail?mCreateElement("img",{class:"rounded-lg",src:n.thumbnail.url,width:n.thumbnail.width,height:n.thumbnail.height}):mCreateElement("span",null),f=n.watch?mCreateElement(se,{color:"green",size:"xs",onClick:$r(n),name:"Watch"}):mCreateElement(se,{color:"yellow",size:"xs",onClick:Br(n),name:"Download"}),m=mCreateElement("span",null),c;if(Wt(n.channel_id)?c=mCreateElement(se,{color:"red",size:"xs",onClick:Vt(n,!1),name:"Unsubscribe"}):c=mCreateElement(se,{color:"blue",size:"xs",onClick:Vt(n,!0),name:"Subscribe"}),n.description){let u=Qe.last_id++;m=mCreateElement("div",{class:""},mCreateElement("input",{type:"checkbox",id:`item-collapsible-${u}`}),mCreateElement("label",{for:`item-collapsible-${u}`},"Description"),mCreateElement("div",{class:`item-collapsible-${u}-area`},mCreateElement("div",{class:"hidden"},n.description)))}return mCreateElement("div",{class:"max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"},s,mCreateElement("div",{class:"font-bold text-gray-600 pb-2"},n.title),mCreateElement("a",{class:"underline underline-offset-1 italic",href:n.link},"Watch on YouTube"),mCreateElement("br",null),mCreateElement("span",{class:"text-gray-800 font-semibold text-sm"},"Channel "),mCreateElement("span",{class:"text-gray-600 uppercase"},n.channel),mCreateElement("div",{class:"pt-3 flex gap-2"},c,f),mCreateElement(Kt,{header:"Description",content:m,modalId:"description-modal",open:this.descriptionOpen}))}};var te={view:function(r){let n=r.attrs.feed||{items:[],title:""},s=[];for(let f of n.items)s.push(mCreateElement(Qe,{item:f}));return mCreateElement("div",{class:r.attrs.class},mCreateElement("div",{class:"py-4 text-center text-gray-800 text-lg"},n.title),mCreateElement("div",{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},s))}};var qe={view:function(r){let n=xe("text-lg group-hover:text-blue-600 dark:group-hover:text-blue-500",{"text-gray-500 dark:text-gray-400":!r.attrs.selected,"text-blue-600 dark:text-gray-500 font-bold":r.attrs.selected});return mCreateElement("a",{href:r.attrs.path,class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group"},r.attrs.icon,mCreateElement("span",{class:n},r.attrs.name))}};var Yt=X(K()),V={view:function(){let r=Yt.default.route.get();return mCreateElement("header",{class:"w-full h-16 bg-gray-50 border-b border-gray-200 dark:bg-gray-700 dark:border-gray-600"},mCreateElement("div",{class:"grid h-full max-w-lg grid-cols-4 mx-auto font-medium"},mCreateElement(qe,{path:"#/index",name:"Feeds",selected:r===Ce.feed}),mCreateElement(qe,{path:"#/search",name:"Search",selected:r===Ce.search}),mCreateElement(qe,{path:"#/archive",name:"Archive",selected:r===Ce.archive})))}};var re={feeds:[],view:function(){allFeeds=[];for(let r in re.feeds)allFeeds.push(mCreateElement(te,{feed:re.feeds[r]}));return mCreateElement("div",null,mCreateElement(V,null),mCreateElement("div",{class:"p-5"},allFeeds))},updateFeed:function(){Xt.default.request({method:"GET",url:"/ytod/api/feeds"}).then(r=>{re.feeds=r})}};var Zt={view:function(r){return mCreateElement("div",null,mCreateElement(V,null),mCreateElement("div",{class:"p-6 flex justify-center"},mCreateElement("video",{controls:!0},mCreateElement("source",{src:`/ytod/api/video/${r.attrs.videoid}`}))))}};function Gr(r){let n=document.getElementById("search_button");r.code==="Enter"?(r.preventDefault(),n.click()):r.redraw=!1}var er={view:function(r){return mCreateElement("div",{class:"flex items-center max-w-sm mx-auto"},mCreateElement("label",{for:r.attrs.id,class:"sr-only"},"Search"),mCreateElement("div",{class:"relative w-full"},mCreateElement("input",{type:"text",id:r.attrs.id,onkeydown:Gr,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search..."})),mCreateElement("button",{id:"search_button",type:"button",onclick:r.attrs.onSearch,class:"p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},mCreateElement("svg",{class:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},mCreateElement("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})),mCreateElement("span",{class:"sr-only"},"Search")))}};var tr=X(K());function Qr(){let r=document.getElementById("search_query").value;ie.loading=!0,tr.default.request({method:"GET",url:"/ytod/api/search",params:{q:r}}).then(function(n){ie.result=n,ie.loading=!1})}var ie={result:{title:"",items:[]},loading:!1,view:function(r){return mCreateElement("div",null,mCreateElement(V,null),mCreateElement("div",{class:"p-6"},mCreateElement(er,{id:"search_query",onSearch:Qr}),mCreateElement("div",null,mCreateElement("div",{class:this.loading?null:"hidden"},"Loading..."),mCreateElement("div",{class:this.loading?"hidden":null},mCreateElement(te,{feed:ie.result})))))}};var rr=X(K()),ce={data:{title:"Archive",items:[]},view:function(){return mCreateElement("div",null,mCreateElement(V,null),mCreateElement(te,{class:"p-5",feed:ce.data}))},update:function(){rr.default.request({method:"GET",url:"/ytod/api/local_videos"}).then(function(r){ce.data.items=r.result})}};window.mCreateElement=We.default;window.mFragment={view:r=>r.children};var Ce={feed:"index",watch:"watch",search:"search",archive:"archive"};window.onload=function(){we(),ce.update(),We.default.route(document.body,"/index",{"/index":re,"/watch/:videoid":Zt,"/search":ie,"/archive":ce}),re.updateFeed()};})();
//# sourceMappingURL=index.js.map
