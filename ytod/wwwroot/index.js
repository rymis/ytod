(()=>{var kr=Object.create;var rt=Object.defineProperty;var Ar=Object.getOwnPropertyDescriptor;var Cr=Object.getOwnPropertyNames;var Er=Object.getPrototypeOf,Tr=Object.prototype.hasOwnProperty;var z=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var Nr=(i,a,l,s)=>{if(a&&typeof a=="object"||typeof a=="function")for(let h of Cr(a))!Tr.call(i,h)&&h!==l&&rt(i,h,{get:()=>a[h],enumerable:!(s=Ar(a,h))||s.enumerable});return i};var Z=(i,a,l)=>(l=i!=null?kr(Er(i)):{},Nr(a||!i||!i.__esModule?rt(l,"default",{value:i,enumerable:!0}):l,i));var V=z((fi,it)=>{"use strict";function ee(i,a,l,s,h,c){return{tag:i,key:a,attrs:l,children:s,text:h,dom:c,domSize:void 0,state:void 0,events:void 0,instance:void 0}}ee.normalize=function(i){return Array.isArray(i)?ee("[",void 0,void 0,ee.normalizeChildren(i),void 0,void 0):i==null||typeof i=="boolean"?null:typeof i=="object"?i:ee("#",void 0,void 0,String(i),void 0,void 0)};ee.normalizeChildren=function(i){var a=[];if(i.length){for(var l=i[0]!=null&&i[0].key!=null,s=1;s<i.length;s++)if((i[s]!=null&&i[s].key!=null)!==l)throw new TypeError(l&&(i[s]!=null||typeof i[s]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var s=0;s<i.length;s++)a[s]=ee.normalize(i[s])}return a};it.exports=ee});var Fe=z((oi,nt)=>{"use strict";var Or=V();nt.exports=function(){var i=arguments[this],a=this+1,l;if(i==null?i={}:(typeof i!="object"||i.tag!=null||Array.isArray(i))&&(i={},a=this),arguments.length===a+1)l=arguments[a],Array.isArray(l)||(l=[l]);else for(l=[];a<arguments.length;)l.push(arguments[a++]);return Or("",i.key,i,l)}});var ye=z((ci,at)=>{"use strict";at.exports={}.hasOwnProperty});var Ue=z((mi,lt)=>{"use strict";var zr=V(),Ir=Fe(),De=ye(),Mr=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,ut=Object.create(null);function Rr(i){for(var a in i)if(De.call(i,a))return!1;return!0}function Sr(i){for(var a,l="div",s=[],h={};a=Mr.exec(i);){var c=a[1],o=a[2];if(c===""&&o!=="")l=o;else if(c==="#")h.id=o;else if(c===".")s.push(o);else if(a[3][0]==="["){var p=a[6];p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),a[4]==="class"?s.push(p):h[a[4]]=p===""?p:p||!0}}return s.length>0&&(h.className=s.join(" ")),Rr(h)&&(h=null),ut[i]={tag:l,attrs:h}}function jr(i,a){var l=a.attrs,s=De.call(l,"class"),h=s?l.class:l.className;return a.tag=i.tag,i.attrs!=null?(l=Object.assign({},i.attrs,l),(h!=null||i.attrs.className!=null)&&(l.className=h!=null?i.attrs.className!=null?String(i.attrs.className)+" "+String(h):h:i.attrs.className!=null?i.attrs.className:null)):h!=null&&(l.className=h),s&&(l.class=null),i.tag==="input"&&De.call(l,"type")&&(l=Object.assign({type:l.type},l)),a.attrs=l,a}function Pr(i){if(i==null||typeof i!="string"&&typeof i!="function"&&typeof i.view!="function")throw Error("The selector must be either a string or a component.");var a=Ir.apply(1,arguments);return typeof i=="string"&&(a.children=zr.normalizeChildren(a.children),i!=="[")?jr(ut[i]||Sr(i),a):(a.tag=i,a)}lt.exports=Pr});var ft=z((hi,st)=>{"use strict";var Lr=V();st.exports=function(i){return i==null&&(i=""),Lr("<",void 0,void 0,i,void 0,void 0)}});var ct=z((pi,ot)=>{"use strict";var _r=V(),Fr=Fe();ot.exports=function(){var i=Fr.apply(0,arguments);return i.tag="[",i.children=_r.normalizeChildren(i.children),i}});var ht=z((di,mt)=>{"use strict";var He=Ue();He.trust=ft();He.fragment=ct();mt.exports=He});var Be=z((gi,dt)=>{"use strict";var pt=new WeakMap;function*Dr(i,a={}){var l=i.dom,s=i.domSize,h=a.generation;if(l!=null)do{var c=l.nextSibling;pt.get(l)===h&&(yield l,s--),l=c}while(s)}dt.exports={delayedRemoval:pt,domFor:Dr}});var xt=z((yi,bt)=>{"use strict";var $e=V(),yt=Be(),gt=yt.delayedRemoval,Ge=yt.domFor;bt.exports=function(){var i={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},a,l;function s(r){return r.ownerDocument}function h(r){return r.attrs&&r.attrs.xmlns||i[r.tag]}function c(r,e){if(r.state!==e)throw new Error("'vnode.state' must not be modified.")}function o(r){var e=r.state;try{return this.apply(e,arguments)}finally{c(r,e)}}function p(r){try{return s(r).activeElement}catch{return null}}function w(r,e,n,u,f,m,x){for(var A=n;A<u;A++){var d=e[A];d!=null&&v(r,d,f,x,m)}}function v(r,e,n,u,f){var m=e.tag;if(typeof m=="string")switch(e.state={},e.attrs!=null&&Ie(e.attrs,e,n),m){case"#":q(r,e,f);break;case"<":_(r,e,u,f);break;case"[":y(r,e,n,u,f);break;default:P(r,e,n,u,f)}else $(r,e,n,u,f)}function q(r,e,n){e.dom=s(r).createTextNode(e.children),Q(r,e.dom,n)}var C={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function _(r,e,n,u){var f=e.children.match(/^\s*?<(\w+)/im)||[],m=s(r).createElement(C[f[1]]||"div");n==="http://www.w3.org/2000/svg"?(m.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",m=m.firstChild):m.innerHTML=e.children,e.dom=m.firstChild,e.domSize=m.childNodes.length;for(var x=s(r).createDocumentFragment(),A;A=m.firstChild;)x.appendChild(A);Q(r,x,u)}function y(r,e,n,u,f){var m=s(r).createDocumentFragment();if(e.children!=null){var x=e.children;w(m,x,0,x.length,n,null,u)}e.dom=m.firstChild,e.domSize=m.childNodes.length,Q(r,m,f)}function P(r,e,n,u,f){var m=e.tag,x=e.attrs,A=x&&x.is;u=h(e)||u;var d=u?A?s(r).createElementNS(u,m,{is:A}):s(r).createElementNS(u,m):A?s(r).createElement(m,{is:A}):s(r).createElement(m);if(e.dom=d,x!=null&&gr(e,x,u),Q(r,d,f),!J(e)&&e.children!=null){var T=e.children;w(d,T,0,T.length,n,null,u),e.tag==="select"&&x!=null&&br(e,x)}}function K(r,e){var n;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),n=r.state.view,n.$$reentrantLock$$!=null)return;n.$$reentrantLock$$=!0}else{if(r.state=void 0,n=r.tag,n.$$reentrantLock$$!=null)return;n.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(Ie(r.state,r,e),r.attrs!=null&&Ie(r.attrs,r,e),r.instance=$e.normalize(o.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function $(r,e,n,u,f){K(e,n),e.instance!=null?(v(r,e.instance,n,u,f),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function G(r,e,n,u,f,m){if(!(e===n||e==null&&n==null))if(e==null||e.length===0)w(r,n,0,n.length,u,f,m);else if(n==null||n.length===0)se(r,e,0,e.length);else{var x=e[0]!=null&&e[0].key!=null,A=n[0]!=null&&n[0].key!=null,d=0,T=0;if(!x)for(;T<e.length&&e[T]==null;)T++;if(!A)for(;d<n.length&&n[d]==null;)d++;if(x!==A)se(r,e,T,e.length),w(r,n,d,n.length,u,f,m);else if(A){for(var U=e.length-1,L=n.length-1,ge,H,R,D,O,Se;U>=T&&L>=d&&(D=e[U],O=n[L],D.key===O.key);)D!==O&&B(r,D,O,u,f,m),O.dom!=null&&(f=O.dom),U--,L--;for(;U>=T&&L>=d&&(H=e[T],R=n[d],H.key===R.key);)T++,d++,H!==R&&B(r,H,R,u,X(e,T,f),m);for(;U>=T&&L>=d&&!(d===L||H.key!==O.key||D.key!==R.key);)Se=X(e,T,f),le(r,D,Se),D!==R&&B(r,D,R,u,Se,m),++d<=--L&&le(r,H,f),H!==O&&B(r,H,O,u,f,m),O.dom!=null&&(f=O.dom),T++,U--,D=e[U],O=n[L],H=e[T],R=n[d];for(;U>=T&&L>=d&&D.key===O.key;)D!==O&&B(r,D,O,u,f,m),O.dom!=null&&(f=O.dom),U--,L--,D=e[U],O=n[L];if(d>L)se(r,e,T,U+1);else if(T>U)w(r,n,d,L+1,u,f,m);else{var qr=f,tt=L-d+1,ce=new Array(tt),je=0,M=0,Pe=2147483647,Le=0,ge,_e;for(M=0;M<tt;M++)ce[M]=-1;for(M=L;M>=d;M--){ge==null&&(ge=N(e,T,U+1)),O=n[M];var ie=ge[O.key];ie!=null&&(Pe=ie<Pe?ie:-1,ce[M-d]=ie,D=e[ie],e[ie]=null,D!==O&&B(r,D,O,u,f,m),O.dom!=null&&(f=O.dom),Le++)}if(f=qr,Le!==U-T+1&&se(r,e,T,U+1),Le===0)w(r,n,d,L+1,u,f,m);else if(Pe===-1)for(_e=j(ce),je=_e.length-1,M=L;M>=d;M--)R=n[M],ce[M-d]===-1?v(r,R,u,m,f):_e[je]===M-d?je--:le(r,R,f),R.dom!=null&&(f=n[M].dom);else for(M=L;M>=d;M--)R=n[M],ce[M-d]===-1&&v(r,R,u,m,f),R.dom!=null&&(f=n[M].dom)}}else{var Re=e.length<n.length?e.length:n.length;for(d=d<T?d:T;d<Re;d++)H=e[d],R=n[d],!(H===R||H==null&&R==null)&&(H==null?v(r,R,u,m,X(e,d+1,f)):R==null?pe(r,H):B(r,H,R,u,X(e,d+1,f),m));e.length>Re&&se(r,e,d,e.length),n.length>Re&&w(r,n,d,n.length,u,f,m)}}}function B(r,e,n,u,f,m){var x=e.tag,A=n.tag;if(x===A){if(n.state=e.state,n.events=e.events,vr(n,e))return;if(typeof x=="string")switch(n.attrs!=null&&Me(n.attrs,n,u),x){case"#":I(e,n);break;case"<":g(r,e,n,m,f);break;case"[":E(r,e,n,u,f,m);break;default:b(e,n,u,m)}else S(r,e,n,u,f,m)}else pe(r,e),v(r,n,u,m,f)}function I(r,e){r.children.toString()!==e.children.toString()&&(r.dom.nodeValue=e.children),e.dom=r.dom}function g(r,e,n,u,f){e.children!==n.children?(de(r,e,void 0),_(r,n,u,f)):(n.dom=e.dom,n.domSize=e.domSize)}function E(r,e,n,u,f,m){G(r,e.children,n.children,u,f,m);var x=0,A=n.children;if(n.dom=null,A!=null){for(var d=0;d<A.length;d++){var T=A[d];T!=null&&T.dom!=null&&(n.dom==null&&(n.dom=T.dom),x+=T.domSize||1)}x!==1&&(n.domSize=x)}}function b(r,e,n,u){var f=e.dom=r.dom;u=h(e)||u,xr(e,r.attrs,e.attrs,u),J(e)||G(f,r.children,e.children,n,null,u)}function S(r,e,n,u,f,m){if(n.instance=$e.normalize(o.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");Me(n.state,n,u),n.attrs!=null&&Me(n.attrs,n,u),n.instance!=null?(e.instance==null?v(r,n.instance,u,m,f):B(r,e.instance,n.instance,u,f,m),n.dom=n.instance.dom,n.domSize=n.instance.domSize):e.instance!=null?(pe(r,e.instance),n.dom=void 0,n.domSize=0):(n.dom=e.dom,n.domSize=e.domSize)}function N(r,e,n){for(var u=Object.create(null);e<n;e++){var f=r[e];if(f!=null){var m=f.key;m!=null&&(u[m]=e)}}return u}var k=[];function j(r){for(var e=[0],n=0,u=0,f=0,m=k.length=r.length,f=0;f<m;f++)k[f]=r[f];for(var f=0;f<m;++f)if(r[f]!==-1){var x=e[e.length-1];if(r[x]<r[f]){k[f]=x,e.push(f);continue}for(n=0,u=e.length-1;n<u;){var A=(n>>>1)+(u>>>1)+(n&u&1);r[e[A]]<r[f]?n=A+1:u=A}r[f]<r[e[n]]&&(n>0&&(k[f]=e[n-1]),e[n]=f)}for(n=e.length,u=e[n-1];n-- >0;)e[n]=u,u=k[u];return k.length=0,e}function X(r,e,n){for(;e<r.length;e++)if(r[e]!=null&&r[e].dom!=null)return r[e].dom;return n}function le(r,e,n){if(e.dom!=null){var u;if(e.domSize==null)u=e.dom;else{u=s(r).createDocumentFragment();for(var f of Ge(e))u.appendChild(f)}Q(r,u,n)}}function Q(r,e,n){n!=null?r.insertBefore(e,n):r.appendChild(e)}function J(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var e=r.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var n=e[0].children;r.dom.innerHTML!==n&&(r.dom.innerHTML=n)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function se(r,e,n,u){for(var f=n;f<u;f++){var m=e[f];m!=null&&pe(r,m)}}function pe(r,e){var n=0,u=e.state,f,m;if(typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"){var x=o.call(e.state.onbeforeremove,e);x!=null&&typeof x.then=="function"&&(n=1,f=x)}if(e.attrs&&typeof e.attrs.onbeforeremove=="function"){var x=o.call(e.attrs.onbeforeremove,e);x!=null&&typeof x.then=="function"&&(n|=2,m=x)}c(e,u);var A;if(!n)fe(e),de(r,e,A);else{A=l;for(var d of Ge(e))gt.set(d,A);f?.finally(function(){n&1&&(n&=2,n||(c(e,u),fe(e),de(r,e,A)))}),m?.finally(function(){n&2&&(n&=1,n||(c(e,u),fe(e),de(r,e,A)))})}}function de(r,e,n){if(e.dom!=null)if(e.domSize==null)gt.get(e.dom)===n&&r.removeChild(e.dom);else for(var u of Ge(e,{generation:n}))r.removeChild(u)}function fe(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&o.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&o.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&fe(r.instance);else{var e=r.children;if(Array.isArray(e))for(var n=0;n<e.length;n++){var u=e[n];u!=null&&fe(u)}}}function gr(r,e,n){for(var u in e)Oe(r,u,null,e[u],n)}function Oe(r,e,n,u,f){if(!(e==="key"||e==="is"||u==null||Ze(e)||n===u&&!wr(r,e)&&typeof u!="object")){if(e[0]==="o"&&e[1]==="n")return et(r,e,u);if(e.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),u);else if(e==="style")Xe(r.dom,n,u);else if(Ye(r,e,f)){if(e==="value"){var m=r.tag==="input"&&r.attrs.type==="file";if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+u&&(m||r.dom===p(r.dom))||r.tag==="select"&&n!==null&&r.dom.value===""+u||r.tag==="option"&&n!==null&&r.dom.value===""+u)return;if(m&&""+u!=""){console.error("`value` is read-only on file inputs!");return}}r.tag==="input"&&e==="type"?r.dom.setAttribute(e,u):r.dom[e]=u}else typeof u=="boolean"?u?r.dom.setAttribute(e,""):r.dom.removeAttribute(e):r.dom.setAttribute(e==="className"?"class":e,u)}}function yr(r,e,n,u){if(!(e==="key"||e==="is"||n==null||Ze(e)))if(e[0]==="o"&&e[1]==="n")et(r,e,void 0);else if(e==="style")Xe(r.dom,n,null);else if(Ye(r,e,u)&&e!=="className"&&e!=="title"&&!(e==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===p(r.dom)))&&!(r.tag==="input"&&e==="type"))r.dom[e]=null;else{var f=e.indexOf(":");f!==-1&&(e=e.slice(f+1)),n!==!1&&r.dom.removeAttribute(e==="className"?"class":e)}}function br(r,e){if("value"in e)if(e.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var n=""+e.value;(r.dom.value!==n||r.dom.selectedIndex===-1)&&(r.dom.value=n)}"selectedIndex"in e&&Oe(r,"selectedIndex",null,e.selectedIndex,void 0)}function xr(r,e,n,u){if(e&&e===n&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),n!=null)for(var f in n)Oe(r,f,e&&e[f],n[f],u);var m;if(e!=null)for(var f in e)(m=e[f])!=null&&(n==null||n[f]==null)&&yr(r,f,m,u)}function wr(r,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&r.dom===p(r.dom)||r.tag==="option"&&r.dom.parentNode===p(r.dom)}function Ze(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function Ye(r,e,n){return n===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in r.dom}function Xe(r,e,n){if(e!==n)if(n==null)r.style="";else if(typeof n!="object")r.style=n;else if(e==null||typeof e!="object"){r.style.cssText="";for(var u in n){var f=n[u];f!=null&&(u.includes("-")?r.style.setProperty(u,String(f)):r.style[u]=String(f))}}else{for(var u in n){var f=n[u];f!=null&&(f=String(f))!==String(e[u])&&(u.includes("-")?r.style.setProperty(u,f):r.style[u]=f)}for(var u in e)e[u]!=null&&n[u]==null&&(u.includes("-")?r.style.removeProperty(u):r.style[u]="")}}function ze(){this._=a}ze.prototype=Object.create(null),ze.prototype.handleEvent=function(r){var e=this["on"+r.type],n;typeof e=="function"?n=e.call(r.currentTarget,r):typeof e.handleEvent=="function"&&e.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),n===!1&&(r.preventDefault(),r.stopPropagation())};function et(r,e,n){if(r.events!=null){if(r.events._=a,r.events[e]===n)return;n!=null&&(typeof n=="function"||typeof n=="object")?(r.events[e]==null&&r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=n):(r.events[e]!=null&&r.dom.removeEventListener(e.slice(2),r.events,!1),r.events[e]=void 0)}else n!=null&&(typeof n=="function"||typeof n=="object")&&(r.events=new ze,r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=n)}function Ie(r,e,n){typeof r.oninit=="function"&&o.call(r.oninit,e),typeof r.oncreate=="function"&&n.push(o.bind(r.oncreate,e))}function Me(r,e,n){typeof r.onupdate=="function"&&n.push(o.bind(r.onupdate,e))}function vr(r,e){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var n=o.call(r.attrs.onbeforeupdate,r,e);if(n!==void 0&&!n)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var n=o.call(r.state.onbeforeupdate,r,e);if(n!==void 0&&!n)break}return!1}while(!1);return r.dom=e.dom,r.domSize=e.domSize,r.instance=e.instance,r.attrs=e.attrs,r.children=e.children,r.text=e.text,!0}var oe;return function(r,e,n){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(oe!=null&&r.contains(oe))throw new TypeError("Node is currently being rendered to and thus is locked.");var u=a,f=oe,m=[],x=p(r),A=r.namespaceURI;oe=r,a=typeof n=="function"?n:void 0,l={};try{r.vnodes==null&&(r.textContent=""),e=$e.normalizeChildren(Array.isArray(e)?e:[e]),G(r,r.vnodes,e,m,null,A==="http://www.w3.org/1999/xhtml"?void 0:A),r.vnodes=e,x!=null&&p(r)!==x&&typeof x.focus=="function"&&x.focus();for(var d=0;d<m.length;d++)m[d]()}finally{a=u,oe=f}}}});var Qe=z((bi,wt)=>{"use strict";wt.exports=xt()(typeof window<"u"?window:null)});var kt=z((xi,qt)=>{"use strict";var vt=V();qt.exports=function(i,a,l){var s=[],h=!1,c=-1;function o(){for(c=0;c<s.length;c+=2)try{i(s[c],vt(s[c+1]),p)}catch(v){l.error(v)}c=-1}function p(){h||(h=!0,a(function(){h=!1,o()}))}p.sync=o;function w(v,q){if(q!=null&&q.view==null&&typeof q!="function")throw new TypeError("m.mount expects a component, not a vnode.");var C=s.indexOf(v);C>=0&&(s.splice(C,2),C<=c&&(c-=2),i(v,[])),q!=null&&(s.push(v,q),i(v,vt(q),p))}return{mount:w,redraw:p}}});var be=z((wi,At)=>{"use strict";var Ur=Qe();At.exports=kt()(Ur,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null)});var Ve=z((vi,Ct)=>{"use strict";Ct.exports=function(i){if(Object.prototype.toString.call(i)!=="[object Object]")return"";var a=[];for(var l in i)s(l,i[l]);return a.join("&");function s(h,c){if(Array.isArray(c))for(var o=0;o<c.length;o++)s(h+"["+o+"]",c[o]);else if(Object.prototype.toString.call(c)==="[object Object]")for(var o in c)s(h+"["+o+"]",c[o]);else a.push(encodeURIComponent(h)+(c!=null&&c!==""?"="+encodeURIComponent(c):""))}}});var xe=z((qi,Et)=>{"use strict";var Hr=Ve();Et.exports=function(i,a){if(/:([^\/\.-]+)(\.{3})?:/.test(i))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(a==null)return i;var l=i.indexOf("?"),s=i.indexOf("#"),h=s<0?i.length:s,c=l<0?h:l,o=i.slice(0,c),p={};Object.assign(p,a);var w=o.replace(/:([^\/\.-]+)(\.{3})?/g,function(K,$,G){return delete p[$],a[$]==null?K:G?a[$]:encodeURIComponent(String(a[$]))}),v=w.indexOf("?"),q=w.indexOf("#"),C=q<0?w.length:q,_=v<0?C:v,y=w.slice(0,_);l>=0&&(y+=i.slice(l,h)),v>=0&&(y+=(l<0?"?":"&")+w.slice(v,C));var P=Hr(p);return P&&(y+=(l<0&&v<0?"?":"&")+P),s>=0&&(y+=i.slice(s)),q>=0&&(y+=(s<0?"":"&")+w.slice(q)),y}});var Ot=z((ki,Nt)=>{"use strict";var Br=xe(),Tt=ye();Nt.exports=function(i,a){function l(c){return new Promise(c)}function s(c,o){return new Promise(function(p,w){c=Br(c,o.params);var v=o.method!=null?o.method.toUpperCase():"GET",q=o.body,C=(o.serialize==null||o.serialize===JSON.serialize)&&!(q instanceof i.FormData||q instanceof i.URLSearchParams),_=o.responseType||(typeof o.extract=="function"?"":"json"),y=new i.XMLHttpRequest,P=!1,K=!1,$=y,G,B=y.abort;y.abort=function(){P=!0,B.call(this)},y.open(v,c,o.async!==!1,typeof o.user=="string"?o.user:void 0,typeof o.password=="string"?o.password:void 0),C&&q!=null&&!h(o,"content-type")&&y.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof o.deserialize!="function"&&!h(o,"accept")&&y.setRequestHeader("Accept","application/json, text/*"),o.withCredentials&&(y.withCredentials=o.withCredentials),o.timeout&&(y.timeout=o.timeout),y.responseType=_;for(var I in o.headers)Tt.call(o.headers,I)&&y.setRequestHeader(I,o.headers[I]);y.onreadystatechange=function(g){if(!P&&g.target.readyState===4)try{var E=g.target.status>=200&&g.target.status<300||g.target.status===304||/^file:\/\//i.test(c),b=g.target.response,S;if(_==="json"){if(!g.target.responseType&&typeof o.extract!="function")try{b=JSON.parse(g.target.responseText)}catch{b=null}}else(!_||_==="text")&&b==null&&(b=g.target.responseText);if(typeof o.extract=="function"?(b=o.extract(g.target,o),E=!0):typeof o.deserialize=="function"&&(b=o.deserialize(b)),E){if(typeof o.type=="function")if(Array.isArray(b))for(var N=0;N<b.length;N++)b[N]=new o.type(b[N]);else b=new o.type(b);p(b)}else{var k=function(){try{S=g.target.responseText}catch{S=b}var j=new Error(S);j.code=g.target.status,j.response=b,w(j)};y.status===0?setTimeout(function(){K||k()}):k()}}catch(j){w(j)}},y.ontimeout=function(g){K=!0;var E=new Error("Request timed out");E.code=g.target.status,w(E)},typeof o.config=="function"&&(y=o.config(y,o,c)||y,y!==$&&(G=y.abort,y.abort=function(){P=!0,G.call(this)})),q==null?y.send():typeof o.serialize=="function"?y.send(o.serialize(q)):q instanceof i.FormData||q instanceof i.URLSearchParams?y.send(q):y.send(JSON.stringify(q))})}l.prototype=Promise.prototype,l.__proto__=Promise;function h(c,o){for(var p in c.headers)if(Tt.call(c.headers,p)&&p.toLowerCase()===o)return!0;return!1}return{request:function(c,o){typeof c!="string"?(o=c,c=c.url):o==null&&(o={});var p=s(c,o);if(o.background===!0)return p;var w=0;function v(){--w===0&&typeof a=="function"&&a()}return q(p);function q(C){var _=C.then;return C.constructor=l,C.then=function(){w++;var y=_.apply(C,arguments);return y.then(v,function(P){if(v(),w===0)throw P}),q(y)},C}}}}});var It=z((Ai,zt)=>{"use strict";var $r=be();zt.exports=Ot()(typeof window<"u"?window:null,$r.redraw)});var We=z((Ci,Rt)=>{"use strict";function Mt(i){try{return decodeURIComponent(i)}catch{return i}}Rt.exports=function(i){if(i===""||i==null)return{};i.charAt(0)==="?"&&(i=i.slice(1));for(var a=i.split("&"),l={},s={},h=0;h<a.length;h++){var c=a[h].split("="),o=Mt(c[0]),p=c.length===2?Mt(c[1]):"";p==="true"?p=!0:p==="false"&&(p=!1);var w=o.split(/\]\[?|\[/),v=s;o.indexOf("[")>-1&&w.pop();for(var q=0;q<w.length;q++){var C=w[q],_=w[q+1],y=_==""||!isNaN(parseInt(_,10));if(C===""){var o=w.slice(0,q).join();l[o]==null&&(l[o]=Array.isArray(v)?v.length:0),C=l[o]++}else if(C==="__proto__")break;if(q===w.length-1)v[C]=p;else{var P=Object.getOwnPropertyDescriptor(v,C);P!=null&&(P=P.value),P==null&&(v[C]=P=y?[]:{}),v=P}}}return s}});var we=z((Ei,St)=>{"use strict";var Gr=We();St.exports=function(i){var a=i.indexOf("?"),l=i.indexOf("#"),s=l<0?i.length:l,h=a<0?s:a,c=i.slice(0,h).replace(/\/{2,}/g,"/");return c?c[0]!=="/"&&(c="/"+c):c="/",{path:c,params:a<0?{}:Gr(i.slice(a+1,s))}}});var Pt=z((Ti,jt)=>{"use strict";var Qr=we();jt.exports=function(i){var a=Qr(i),l=Object.keys(a.params),s=[],h=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(c,o,p){return o==null?"\\"+c:(s.push({k:o,r:p==="..."}),p==="..."?"(.*)":p==="."?"([^/]+)\\.":"([^/]+)"+(p||""))})+"$");return function(c){for(var o=0;o<l.length;o++)if(a.params[l[o]]!==c.params[l[o]])return!1;if(!s.length)return h.test(c.path);var p=h.exec(c.path);if(p==null)return!1;for(var o=0;o<s.length;o++)c.params[s[o].k]=s[o].r?p[o+1]:decodeURIComponent(p[o+1]);return!0}}});var Ke=z((Ni,Ft)=>{"use strict";var Lt=ye(),_t=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");Ft.exports=function(i,a){var l={};if(a!=null)for(var s in i)Lt.call(i,s)&&!_t.test(s)&&a.indexOf(s)<0&&(l[s]=i[s]);else for(var s in i)Lt.call(i,s)&&!_t.test(s)&&(l[s]=i[s]);return l}});var Bt=z((Oi,Ht)=>{"use strict";var Vr=V(),Wr=Ue(),Dt=xe(),Ut=we(),Kr=Pt(),Jr=Ke(),Je={};function Zr(i){try{return decodeURIComponent(i)}catch{return i}}Ht.exports=function(i,a){var l=i==null?null:typeof i.setImmediate=="function"?i.setImmediate:i.setTimeout,s=Promise.resolve(),h=!1,c=!1,o=0,p,w,v=Je,q,C,_,y,P={onbeforeupdate:function(){return o=o?2:1,!(!o||Je===v)},onremove:function(){i.removeEventListener("popstate",G,!1),i.removeEventListener("hashchange",$,!1)},view:function(){if(!(!o||Je===v)){var g=[Vr(q,C.key,C)];return v&&(g=v.render(g[0])),g}}},K=I.SKIP={};function $(){h=!1;var g=i.location.hash;I.prefix[0]!=="#"&&(g=i.location.search+g,I.prefix[0]!=="?"&&(g=i.location.pathname+g,g[0]!=="/"&&(g="/"+g)));var E=g.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,Zr).slice(I.prefix.length),b=Ut(E);Object.assign(b.params,i.history.state);function S(k){console.error(k),B(w,null,{replace:!0})}N(0);function N(k){for(;k<p.length;k++)if(p[k].check(b)){var j=p[k].component,X=p[k].route,le=j,Q=y=function(J){if(Q===y){if(J===K)return N(k+1);q=J!=null&&(typeof J.view=="function"||typeof J=="function")?J:"div",C=b.params,_=E,y=null,v=j.render?j:null,o===2?a.redraw():(o=2,a.redraw.sync())}};j.view||typeof j=="function"?(j={},Q(le)):j.onmatch?s.then(function(){return j.onmatch(b.params,E,X)}).then(Q,E===w?null:S):Q("div");return}if(E===w)throw new Error("Could not resolve default route "+w+".");B(w,null,{replace:!0})}}function G(){h||(h=!0,l($))}function B(g,E,b){if(g=Dt(g,E),c){G();var S=b?b.state:null,N=b?b.title:null;b&&b.replace?i.history.replaceState(S,N,I.prefix+g):i.history.pushState(S,N,I.prefix+g)}else i.location.href=I.prefix+g}function I(g,E,b){if(!g)throw new TypeError("DOM element being rendered to does not exist.");if(p=Object.keys(b).map(function(N){if(N[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(N))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:N,component:b[N],check:Kr(N)}}),w=E,E!=null){var S=Ut(E);if(!p.some(function(N){return N.check(S)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof i.history.pushState=="function"?i.addEventListener("popstate",G,!1):I.prefix[0]==="#"&&i.addEventListener("hashchange",$,!1),c=!0,a.mount(g,P),$()}return I.set=function(g,E,b){y!=null&&(b=b||{},b.replace=!0),y=null,B(g,E,b)},I.get=function(){return _},I.prefix="#!",I.Link={view:function(g){var E=Wr(g.attrs.selector||"a",Jr(g.attrs,["options","params","selector","onclick"]),g.children),b,S,N;return(E.attrs.disabled=!!E.attrs.disabled)?(E.attrs.href=null,E.attrs["aria-disabled"]="true"):(b=g.attrs.options,S=g.attrs.onclick,N=Dt(E.attrs.href,g.attrs.params),E.attrs.href=I.prefix+N,E.attrs.onclick=function(k){var j;typeof S=="function"?j=S.call(k.currentTarget,k):S==null||typeof S!="object"||typeof S.handleEvent=="function"&&S.handleEvent(k),j!==!1&&!k.defaultPrevented&&(k.button===0||k.which===0||k.which===1)&&(!k.currentTarget.target||k.currentTarget.target==="_self")&&!k.ctrlKey&&!k.metaKey&&!k.shiftKey&&!k.altKey&&(k.preventDefault(),k.redraw=!1,I.set(N,null,b))}),E}},I.param=function(g){return C&&g!=null?C[g]:C},I}});var Gt=z((zi,$t)=>{"use strict";var Yr=be();$t.exports=Bt()(typeof window<"u"?window:null,Yr)});var W=z((Ii,Vt)=>{"use strict";var ve=ht(),Xr=It(),Qt=be(),ei=Be(),F=function(){return ve.apply(this,arguments)};F.m=ve;F.trust=ve.trust;F.fragment=ve.fragment;F.Fragment="[";F.mount=Qt.mount;F.route=Gt();F.render=Qe();F.redraw=Qt.redraw;F.request=Xr.request;F.parseQueryString=We();F.buildQueryString=Ve();F.parsePathname=we();F.buildPathname=xe();F.vnode=V();F.censor=Ke();F.domFor=ei.domFor;Vt.exports=F});var ue=Z(W());var Wt={cs:{Search:"Hledani",Archive:"Archiv"},ru:{Feeds:"\u041F\u043E\u0434\u043F\u0438\u0441\u043A\u0438",Search:"\u041F\u043E\u0438\u0441\u043A",Archive:"\u0410\u0440\u0445\u0438\u0432"}};function Kt(i){var a,l,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var h=i.length;for(a=0;a<h;a++)i[a]&&(l=Kt(i[a]))&&(s&&(s+=" "),s+=l)}else for(l in i)i[l]&&(s&&(s+=" "),s+=l);return s}function ti(){for(var i,a,l=0,s="",h=arguments.length;l<h;l++)(i=arguments[l])&&(a=Kt(i))&&(s&&(s+=" "),s+=a);return s}var Y=ti;var Jt={view:function(i){let{type:a}=i.attrs,l=Y("flex items-center p-4 mb-4 text-sm border rounded-lg",{[i.attrs.class]:i.attrs.class,"text-blue-800 border-blue-300 bg-blue-50 dark:bg-gray-800 dark:text-blue-400 dark:border-blue-800":a==="info","text-red-800 border-red-300 bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800":a==="danger","text-green-800 border-green-300 bg-green-50 dark:bg-gray-800 dark:text-green-400 dark:border-green-800":a==="success","text-yellow-800 border-yellow-300 bg-yellow-50 dark:bg-gray-800 dark:text-yellow-300 dark:border-yellow-800":a==="warning"});return mCreateElement("div",{class:l,role:"alert"},mCreateElement("svg",{class:"flex-shrink-0 inline w-4 h-4 me-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},mCreateElement("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})),mCreateElement("span",{class:"sr-only"},i.attrs.text),mCreateElement("div",null,i.attrs.alert??i.attrs.text))}};var Zt=Z(W());function qe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var a=Math.random()*16|0,l=i=="x"?a:a&3|8;return l.toString(16)})}var me={items:[],removeNotification:function(i){let a=me.items.find(l=>l.key===i);me.items.splice(a,1)}};function Yt(i,a){let l=qe();me.items.push({key:l,text:i,type:a})}var Xt={view:function(i){return mCreateElement("div",{class:"flex flex-col gap-2 fixed bottom-5 right-5 w-[20rem]"},me.items.map(a=>{let{key:l,text:s,type:h}=a;return mCreateElement(ri,{key:l,text:s,type:h,timeout:i.attrs.timeout})}))}},ri={oninit:function(i){let{key:a,timeout:l=5e3}=i.attrs;setTimeout(()=>{me.removeNotification(a),Zt.default.redraw()},l)},view:function(i){let{text:a,type:l}=i.attrs;return mCreateElement(Jt,{class:"w-full",text:a,type:l})}};var ke={view:function(i){let a=Y("text-lg group-hover:text-blue-600 dark:group-hover:text-blue-500",{"text-gray-500 dark:text-gray-400":!i.attrs.selected,"text-blue-600 dark:text-gray-500 font-bold":i.attrs.selected});return mCreateElement("a",{href:i.attrs.path,class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group"},i.attrs.icon,mCreateElement("span",{class:a},i.attrs.name))}};var er=Z(W()),tr={view:function(){let i=er.default.route.get();return mCreateElement("header",{class:"w-full h-16 bg-gray-50 border-b border-gray-200 dark:bg-gray-700 dark:border-gray-600"},mCreateElement("div",{class:"grid h-full max-w-lg grid-cols-4 mx-auto font-medium"},mCreateElement(ke,{path:"#/index",name:t("Feeds"),selected:i===Ae.feed}),mCreateElement(ke,{path:"#/search",name:t("Search"),selected:i===Ae.search}),mCreateElement(ke,{path:"#/archive",name:t("Archive"),selected:i===Ae.archive})))}};var rr={view:function(i){return mCreateElement("div",null,mCreateElement(tr,null),i.children,mCreateElement(Xt,null))}};var or=Z(W());var Ee=Z(W());var ir=Z(W()),nr={user:"unknown",lang:"en",feeds:[]};function Ce(){ir.default.request({method:"GET",url:"/ytod/api/user_info"}).then(function(i){nr=i})}function ar(i){for(var a of nr.feeds)if(a===i)return!0;return!1}var he={view:function(i){let{size:a="base",color:l="blue"}=i.attrs,s=Y({"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800":l==="green","focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900":l==="red","focus:outline-none text-white bg-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 font-medium rounded-lg me-2 mb-2 dark:focus:ring-yellow-900":l==="yellow","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800":l==="blue","px-3 py-2 text-xs":a==="xs","px-3 py-2 text-sm":a==="sm","px-5 py-2.5 text-sm":a==="base","px-5 py-3 text-base":a==="lg","px-6 py-3.5 text-base":a==="xl"});return mCreateElement("button",{type:"button",class:s,onclick:i.attrs.onClick},i.attrs.name)}};var ur=i=>()=>{document.getElementById(i).showModal()},ii=i=>()=>{document.getElementById(i).close()},lr={view:function(i){let{modalId:a,header:l,footer:s,class:h}=i.attrs;return mCreateElement("dialog",{id:a,class:Y("bg-white rounded-lg shadow dark:bg-gray-700",{[h]:h})},mCreateElement("div",{class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},mCreateElement("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"},l),mCreateElement("button",{type:"button",onclick:ii(a),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"},mCreateElement("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},mCreateElement("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})),mCreateElement("span",{class:"sr-only"},"Close modal"))),mCreateElement("div",{class:"p-4 md:p-5 space-y-4"},i.children),s&&mCreateElement("div",{class:"flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600"},s))}};function sr(i){let a=Date.now(),l=Math.round(a/1e3)-i;if(l<61)return"just now";let s=Math.floor(l/60);if(s<60)return s+" minute(s) ago";let h=Math.floor(s/60);if(h<24)return h+" hour(s) ago";let c=Math.floor(h/24);if(c<=31)return c+" day(s) ago";let o=Math.floor(c/30);return o<=12?o+" month(s) ago":Math.floor(o/12)+" year(s) ago"}function ni(i){return function(a){return function(){Ee.default.request({method:"POST",url:"/ytod/api/download",body:{video_id:a}}).then(l=>{Yt("Video was successfully queued","success")})}}(i.video_id)}function ai(i){return function(a){return function(){Ee.default.route.set("/watch/:videoid",{videoid:a})}}(i.watch)}function fr(i,a){return function(l,s){return function(){Ee.default.request({method:"GET",url:`/ytod/api/${s}`,params:{channel_id:l}}).then(()=>{Ce()})}}(i.channel_id,a?"subscribe":"unsubscribe")}var Te={id:qe(),descriptionOpen:!1,view:function(i){let a=i.attrs.item;if(!a)return mCreateElement("div",{class:"invalid_item"},"Invalid use of Item");let l=a.thumbnail?mCreateElement("img",{class:"rounded-lg",src:a.thumbnail.url,width:a.thumbnail.width,height:a.thumbnail.height}):mCreateElement("span",null),s=a.watch?mCreateElement(he,{color:"green",size:"xs",onClick:ai(a),name:"Watch"}):mCreateElement(he,{color:"yellow",size:"xs",onClick:ni(a),name:"Download"}),h;ar(a.channel_id)?h=mCreateElement(he,{color:"red",size:"xs",onClick:fr(a,!1),name:"Unsubscribe"}):h=mCreateElement(he,{color:"blue",size:"xs",onClick:fr(a,!0),name:"Subscribe"});let c=`description-modal-${this.id}`;return mCreateElement("div",{class:"max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"},l,mCreateElement("div",{class:"flex justify-between"},mCreateElement("span",{class:"font-bold text-gray-600"},a.title),a.description&&mCreateElement("button",{class:"w-4 h-4 shrink-0 self-center",type:"button",onclick:ur(c)},mCreateElement("img",{src:"info.svg"}))),mCreateElement("a",{class:"underline underline-offset-1 italic",href:a.link},"Watch on YouTube"),mCreateElement("br",null),mCreateElement("span",{class:"text-gray-800 font-semibold text-sm"},"Channel "),mCreateElement("span",{class:"text-gray-600 uppercase"},a.channel),mCreateElement("div",{class:"pt-3 flex gap-2"},h,s),mCreateElement("div",{class:"text-gray-500 text-sm"},sr(a.time)),mCreateElement(lr,{name:"description",header:a.channel,content:a.description,modalId:c,class:"max-h-[80%] w-[80%] md:w-2/3 lg:w-1/2"},mCreateElement("div",{class:"px-3 py-2"},mCreateElement("h4",{class:"font-semibold text-gray-700 dark:text-white pb-3"},a.title),mCreateElement("p",null,a.description))))}};var te={feeds:[],view:function(){allItems=[];for(let i in te.feeds){let a=te.feeds[i];allItems.push(...a.items)}return allItems.sort((i,a)=>a.time-i.time),mCreateElement("div",null,mCreateElement("div",{class:"p-5 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},allItems.map(i=>mCreateElement(Te,{item:i}))))},updateFeed:function(){or.default.request({method:"GET",url:"/ytod/api/feeds"}).then(i=>{te.feeds=i})}};var cr={view:function(i){return mCreateElement("div",{class:"p-6 flex justify-center"},mCreateElement("video",{controls:!0},mCreateElement("source",{src:`/ytod/api/video/${i.attrs.videoid}`})))}};var Ne={view:function(i){let a=i.attrs.feed||{items:[],title:""},l=[];for(let s of a.items)l.push(mCreateElement(Te,{item:s}));return mCreateElement("div",{class:i.attrs.class},mCreateElement("div",{class:"py-4 text-center text-gray-800 text-lg"},a.title),mCreateElement("div",{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},l))}};function ui(i){let a=document.getElementById("search_button");i.code==="Enter"?(i.preventDefault(),a.click()):i.redraw=!1}var mr={view:function(i){return mCreateElement("search",{class:"flex items-center max-w-sm mx-auto"},mCreateElement("label",{for:i.attrs.id,class:"sr-only"},t("Search")),mCreateElement("div",{class:"relative w-full"},mCreateElement("input",{type:"text",id:i.attrs.id,onkeydown:ui,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search..."})),mCreateElement("button",{id:"search_button",type:"button",onclick:i.attrs.onSearch,class:"p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},mCreateElement("svg",{class:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},mCreateElement("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})),mCreateElement("span",{class:"sr-only"},"Search")))}};var hr=Z(W());function li(){let i=document.getElementById("search_query").value;ne.loading=!0,hr.default.request({method:"GET",url:"/ytod/api/search",params:{q:i}}).then(function(a){ne.result=a,ne.loading=!1})}var ne={result:{title:"",items:[]},loading:!1,view:function(i){return mCreateElement("div",{class:"p-6"},mCreateElement(mr,{id:"search_query",onSearch:li}),mCreateElement("div",null,mCreateElement("div",{class:this.loading?null:"hidden"},"Loading..."),mCreateElement("div",{class:this.loading?"hidden":null},mCreateElement(Ne,{feed:ne.result}))))}};var pr=Z(W()),ae={data:{title:"Archive",items:[]},view:function(){return mCreateElement(Ne,{class:"p-5",feed:ae.data})},update:function(){pr.default.request({method:"GET",url:"/ytod/api/local_videos"}).then(function(i){ae.data.items=i.result})}};window.mCreateElement=ue.default;window.mFragment={view:i=>i.children};window.t=function(i){return window._ytodLang&&window._ytodLang.hasOwnProperty(i)?window._ytodLang[i]:i};var Ae={feed:"index",watch:"watch",search:"search",archive:"archive"},dr={index:()=>te.updateFeed(),archive:()=>ae.update()};function re(i){return{view:function(a){let l=ue.default.route.get();return l!==re.lastRoute&&dr.hasOwnProperty(l)&&dr[l](),re.lastRoute=l,(0,ue.default)(rr,(0,ue.default)(i,a.attrs))}}}re.lastRoute="index";window.onload=function(){Ce(),ae.update();let i=navigator.language||navigator.userLanguage;if(i.length>2){let a=i.substr(0,2),l=Wt[a];typeof l<"u"&&(window._ytodLang=l)}ue.default.route(document.body,"/index",{"/index":re(te),"/watch/:videoid":re(cr),"/search":re(ne),"/archive":re(ae)}),te.updateFeed()};})();
//# sourceMappingURL=index.js.map
